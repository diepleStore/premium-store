!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ccf6fdbd-905a-4fdf-8de2-79af8426604c",e._sentryDebugIdIdentifier="sentry-dbid-ccf6fdbd-905a-4fdf-8de2-79af8426604c")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2574,6106],{2081:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var n=s(80263),a=s(64238),r=s(81372),l=s(53239),i=s(90206),o=s(16601),d=s(2);let c=e=>{var t;let{text:s,asyncText:c,iconOnly:u=!1,children:m,onClick:f,copyLabel:p="Copy",copiedLabel:x="Copied",...h}=e,[y,g]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(!y)return;let e=setTimeout(()=>g(!1),2e3);return()=>clearTimeout(e)},[y]),(0,n.jsx)(o.$,{onClick:async e=>{let t=c?await c():s;g(!0),await (0,i.lW)(t),null==f||f(e)},...h,className:(0,d.cn)({"px-1":u},h.className),icon:y?(0,n.jsx)(a.A,{strokeWidth:2,className:"text-brand"}):null!=(t=h.icon)?t:(0,n.jsx)(r.A,{}),"data-sentry-element":"Button","data-sentry-component":"CopyButton","data-sentry-source-file":"CopyButton.tsx",children:!u&&(0,n.jsx)(n.Fragment,{children:null!=m?m:y?x:p})})}},9245:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var n=s(80263),a=s(64238),r=s(81372),l=s(53239),i=s(2);let o=(0,l.forwardRef)((e,t)=>{let{commands:s,className:a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("space-y-4",a),children:s.map((e,t)=>(0,n.jsx)(c,{item:e},"command-".concat(t)))})});o.displayName="CommandRender";let d=o,c=e=>{let{item:t}=e,[s,i]=(0,l.useState)(!1);return(0,n.jsxs)("div",{className:"space-y-1","data-sentry-component":"Command","data-sentry-source-file":"CommandRender.tsx",children:[(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:"> ".concat(t.comment)}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,n.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,n.jsxs)("span",{children:[(0,n.jsxs)("span",{children:[t.jsx?t.jsx():null," "]}),(0,n.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:()=>{var e;e=t.command,i(!0),navigator.clipboard.writeText(e).then(),setTimeout(function(){i(!1)},3e3)},children:s?(0,n.jsx)(a.A,{size:14,strokeWidth:3,className:"text-brand"}):(0,n.jsx)(r.A,{size:14})})]})]})})]})}},16175:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},21355:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var n=s(17702),a=s(56947),r=s(53434),l=s.n(r),i=s(53239),o=s(66933),d=s(92589),c=s(3807),u=s(66001),m=s(81028);let f=(e,t)=>(0,i.useMemo)(()=>0!==e.length&&(0,d.l8)(e[0][t])?null==e?void 0:e.map(e=>(e[t]=(0,d.RT)(e[t]),e)):e,[JSON.stringify(e)]),p=function(e){var t,s,r,p,x;let{projectRef:h,table:y,filterOverride:g,limit:v}=e,j=(0,o.Et)(o.Z8),[w,b]=(0,i.useState)(new Date().toISOString()),{timestampStart:N,timestampEnd:E,filters:S,search:k}=(0,u.B)(),_=(0,i.useMemo)(()=>N||j.calcFrom(),[N,j]),A=(0,i.useMemo)(()=>E||j.calcTo(),[E,j]),D=(0,i.useMemo)(()=>({...S,...g,...k?{search_query:k}:{}}),[JSON.stringify(S),JSON.stringify(g),k]),F=(0,i.useMemo)(()=>({project:h,iso_timestamp_start:_,iso_timestamp_end:A,sql:(0,d.qr)(y,D,v)}),[h,_,A,y,D,v]),C=(0,i.useMemo)(()=>["projects",h,"logs",F],[h,F]),{data:M,isSuccess:T,isLoading:R,isRefetching:L,error:O,fetchNextPage:I,isFetchingNextPage:q,refetch:W}=(0,n.q)(C,async e=>{let{signal:t,pageParam:s}=e,{data:n,error:a}=await (0,c.Jt)("/platform/projects/{ref}/analytics/endpoints/logs.all",{params:{path:{ref:h},query:{...F,iso_timestamp_end:s||F.iso_timestamp_end}},signal:t});if(a)throw a;return n},{refetchOnWindowFocus:!1,getNextPageParam(e){var t,s;if((null!=(s=null==(t=e.result)?void 0:t.length)?s:0)===0)return;let n=e.result.length,{timestamp:a}=e.result[n-1];return l().utc(Number(a/1e3)).toISOString()}}),{logData:Z,error:z,oldestTimestamp:P}=(0,i.useMemo)(()=>{var e,t;let s=[],n=O?O.message:null;null==M||null==(e=M.pages)||e.forEach(e=>{(null==e?void 0:e.result)&&(s=[...s,...e.result]),!n&&(null==e?void 0:e.error)&&(n=e.error)});let a=s.length>0?null==(t=s[s.length-1])?void 0:t.timestamp:void 0;return{logData:s,error:n,oldestTimestamp:a}},[null==M?void 0:M.pages]),H=(0,i.useMemo)(()=>(0,d.oZ)(y,D),[y,D]),U=(0,i.useMemo)(()=>["projects",h,"logs-count",{projectRef:h,sql:H,iso_timestamp_start:w,iso_timestamp_end:A,table:y,mergedFilters:D}],[h,H,w,A,y,D]),{data:J}=(0,a.I)(U,async e=>{let{signal:t}=e,{data:s,error:n}=await (0,c.Jt)("/platform/projects/{ref}/analytics/endpoints/logs.all",{params:{path:{ref:h},query:{project:h,sql:H,iso_timestamp_start:w,iso_timestamp_end:A}},signal:t});if(n)throw n;return s},{refetchOnWindowFocus:!1,refetchInterval:6e4,enabled:!z&&!!M&&(null==M||null==(t=M.pages)?void 0:t.length)>0}),B=null!=(p=null==J||null==(r=J.result)||null==(s=r[0])?void 0:s.count)?p:0,V=(0,i.useMemo)(()=>(0,d.tS)(y,F,D),[y,F,D]),Y=(0,i.useMemo)(()=>["projects",h,"logs-chart",{projectRef:h,sql:V,iso_timestamp_start:_,iso_timestamp_end:A}],[h,V,_,A]),{data:X,refetch:$}=(0,a.I)(Y,async e=>{let{signal:t}=e,{data:s,error:n}=await (0,c.Jt)("/platform/projects/{ref}/analytics/endpoints/logs.all",{params:{path:{ref:h},query:{iso_timestamp_start:_,iso_timestamp_end:A,project:h,sql:V}},signal:t});if(n)throw n;return s},{refetchOnWindowFocus:!1}),K=(0,i.useCallback)(async()=>{b(new Date().toISOString()),$(),W()},[W,$]),G=f(null!=(x=null==X?void 0:X.result)?x:[],"timestamp"),{data:Q,error:ee}=(0,m.m)(G,"timestamp","count",0,_,A||new Date().toISOString());return{newCount:B,logData:Z,isSuccess:T,isLoading:R||L,isLoadingOlder:q,error:z||ee,filters:D,params:F,oldestTimestamp:P?String(P):void 0,eventChartData:Q,refresh:K,loadOlder:()=>I()}}},25660:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},26629:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},29819:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]])},44893:(e,t,s)=>{"use strict";s.d(t,{bL:()=>w,zi:()=>b});var n=s(54993),a=s(53239),r=s(91968),l=s(63774),i=s(68436),o=s(87990),d=s(15630),c=s(89422),u=s(70297);let m="Switch",[f,p]=(0,i.A)(m),[x,h]=f(m),y=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:s,name:i,checked:d,defaultChecked:c,required:m,disabled:f,value:p="on",onCheckedChange:h,...y}=e,[g,w]=(0,a.useState)(null),b=(0,l.s)(t,e=>w(e)),N=(0,a.useRef)(!1),E=!g||!!g.closest("form"),[S=!1,k]=(0,o.i)({prop:d,defaultProp:c,onChange:h});return(0,a.createElement)(x,{scope:s,checked:S,disabled:f},(0,a.createElement)(u.sG.button,(0,n.A)({type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":j(S),"data-disabled":f?"":void 0,disabled:f,value:p},y,{ref:b,onClick:(0,r.m)(e.onClick,e=>{k(e=>!e),E&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),E&&(0,a.createElement)(v,{control:g,bubbles:!N.current,name:i,value:p,checked:S,required:m,disabled:f,style:{transform:"translateX(-100%)"}}))}),g=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:s,...r}=e,l=h("SwitchThumb",s);return(0,a.createElement)(u.sG.span,(0,n.A)({"data-state":j(l.checked),"data-disabled":l.disabled?"":void 0},r,{ref:t}))}),v=e=>{let{control:t,checked:s,bubbles:r=!0,...l}=e,i=(0,a.useRef)(null),o=(0,d.Z)(s),u=(0,c.X)(t);return(0,a.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==s&&t){let n=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(n)}},[o,s,r]),(0,a.createElement)("input",(0,n.A)({type:"checkbox","aria-hidden":!0,defaultChecked:s},l,{tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function j(e){return e?"checked":"unchecked"}let w=y,b=g},46873:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>c});var n=s(80263),a=s(53239),r=s(2);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-surface-100 text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",s),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,r.cn)("text-xs font-mono uppercase",s),...a})});o.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-foreground-muted",s),...a})}).displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("py-4 px-6 border-b last:border-none",s),...a})});d.displayName="CardContent";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)(" flex items-center py-4 px-6",s),...a})});c.displayName="CardFooter"},47781:(e,t,s)=>{"use strict";s.d(t,{K:()=>x,T:()=>g});var n=s(80263),a=s(53239),r=s(3732),l=s(2),i=s(53434),o=s.n(i),d=s(27344),c=s.n(d),u=s(37361),m=s.n(u);o().extend(c()),o().extend(m());let f=e=>o().unix(Number(e)/1e3/1e3).toISOString(),p=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},x=e=>{let{utcTimestamp:t,format:s}=e,n=p(t)?f(t):t;return o().utc(n).local().format(s)},h=e=>{let{utcTimestamp:t,format:s}=e,n=p(t)?f(t):t;return o().utc(n).format(s)},y=e=>{let{utcTimestamp:t}=e,s=p(t)?f(t):t;return o().utc(s).fromNow()},g=e=>{let{utcTimestamp:t,className:s,displayAs:i="local",format:o="DD MMM  HH:mm:ss",labelFormat:d="DD MMM HH:mm:ss"}=e,c=x({utcTimestamp:t,format:o}),u=h({utcTimestamp:t,format:o}),m=y({utcTimestamp:t}),[f,p]=(0,a.useState)("start"),g=(0,a.useRef)(null),v=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,a.useEffect)(()=>{let e=()=>{if(g.current){let e=g.current.getBoundingClientRect(),t=window.innerHeight;p(e.top<t/2?"start":"end")}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]);let j=e=>{let{label:t,value:s}=e,[r,i]=(0,a.useState)(!1);return(0,n.jsxs)("div",{onPointerDown:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),e.preventDefault(),navigator.clipboard.writeText(s),i(!0),setTimeout(()=>{i(!1)},1e3)},className:(0,l.cn)("relative cursor-pointer flex gap-y-2 gap-x-0.5 hover:bg-surface-100 px-2 py-1 group",{"bg-surface-100":r}),"data-sentry-component":"TooltipRow","data-sentry-source-file":"index.tsx",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-2 text-left truncate",children:[(0,n.jsx)("p",{children:t}),(0,n.jsx)("div",{className:"border-t w-full border-dashed"})]}),(0,n.jsxs)("div",{className:"relative flex items-center gap-x-2 flex-grow",children:[(0,n.jsx)("div",{className:"border-t w-full border-dashed z-10"}),r&&(0,n.jsx)("span",{className:"flex items-center justify-end w-full absolute inset-0 flex items-right text-brand-600 bg-surface-100",children:"Copied!"}),(0,n.jsx)("span",{className:"flex items-center gap-x-2 justify-end whitespace-nowrap",children:s})]})]})};return(0,n.jsxs)(r.m_,{"data-sentry-element":"Tooltip","data-sentry-component":"TimestampInfo","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)(r.k$,{asChild:!0,ref:g,className:"text-xs ".concat(s," border-b border-transparent hover:border-dashed hover:border-foreground-light"),"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"index.tsx",children:(0,n.jsx)("span",{children:"local"===i?x({utcTimestamp:t,format:d}):h({utcTimestamp:t,format:d})})}),(0,n.jsxs)(r.ZI,{align:f,side:"right",className:"font-mono p-0 py-1 min-w-80","data-sentry-element":"TooltipContent","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)(j,{label:"UTC",value:u,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(j,{label:v,value:c,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(j,{label:"Relative",value:m,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(j,{label:"Timestamp",value:String(t),"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"})]})]})}},51551:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]])},55630:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/functions/[functionSlug]/details",function(){return s(56256)}])},56256:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Q});var n=s(80263),a=s(32981),r=s(60045),l=s(53434),i=s.n(l),o=s(66452),d=s(63320),c=s.n(d),u=s(52385),m=s(53239),f=s(87494),p=s(73969),x=s(39353),h=s(89044),y=s(95207),g=s(98474),v=s(1498),j=s(15232),w=s(9113),b=s(32144),N=s(80251),E=s(3807),S=s(38356);async function k(e){let{projectRef:t,slug:s}=e;if(!t)throw Error("projectRef is required");let{data:n,error:a}=await (0,E.yH)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:t,function_slug:s}}});return a&&(0,E.H4)(a),n}let _=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,b.jE)();return(0,N.n)(e=>k(e),{async onSuccess(t,s,a){let{projectRef:r}=s;await n.invalidateQueries(S.f.list(r),{refetchType:"all"}),await (null==e?void 0:e(t,s,a))},async onError(e,s,n){void 0===t?p.oR.error("Failed to delete edge function: ".concat(e.message)):t(e,s,n)},...s})};async function A(e){let{projectRef:t,slug:s,payload:n}=e;if(!t)throw Error("projectRef is required");let{data:a,error:r}=await (0,E.F6)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:t,function_slug:s}},body:n});return r&&(0,E.H4)(r),a}let D=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,b.jE)();return(0,N.n)(e=>A(e),{async onSuccess(t,s,a){let{projectRef:r,slug:l}=s;await Promise.all([n.invalidateQueries(S.f.detail(r,l)),n.invalidateQueries(S.f.list(r))]),await (null==e?void 0:e(t,s,a))},async onError(e,s,n){void 0===t?p.oR.error("Failed to update edge function: ".concat(e.message)):t(e,s,n)},...s})};var F=s(65904),C=s(85669),M=s(46873),T=s(49189),R=s(11375),L=s(16601),O=s(93479),I=s(78873),q=s(98883),W=s(55739),Z=s(71171),z=s(2),P=s(62719),H=s(36212),U=s(27787),J=s(9245),B=s(7883);let V=e=>{let{selectedFunction:t,functionUrl:s,anonKey:a}=e,r=[{command:"supabase functions deploy ".concat(null==t?void 0:t.slug),description:"This will overwrite the deployed function with your new function",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy"," ",null==t?void 0:t.slug]}),comment:"Deploy a new version"},{command:"supabase functions delete ".concat(null==t?void 0:t.slug),description:"This will remove the function and all the logs associated with it",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions delete"," ",null==t?void 0:t.slug]}),comment:"Delete the function"}];return{managementCommands:r,secretCommands:[{command:"supabase secrets list",description:"This will list all the secrets for your project",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets list"]}),comment:"View all secrets"},{command:"supabase secrets set NAME1=VALUE1 NAME2=VALUE2",description:"This will set secrets for your project",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets set NAME1=VALUE1 NAME2=VALUE2"]}),comment:"Set secrets for your project"},{command:"supabase secrets unset NAME1 NAME2 ",description:"This will delete secrets for your project",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets unset NAME1 NAME2"]}),comment:"Unset secrets for your project"}],invokeCommands:[{command:"curl -L -X POST '".concat(s,"' -H 'Authorization: Bearer ").concat(null!=a?a:"[YOUR ANON KEY]",'\' --data \'{"name":"Functions"}\''),description:"Invokes the hello function",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",s,"'"," ",(null==t?void 0:t.verify_jwt)?"-H\n            'Authorization: Bearer [YOUR ANON KEY]' ":"",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}]}},Y=x.Ay.object({name:x.Ay.string().min(0,"Name is required"),verify_jwt:x.Ay.boolean()}),X=()=>{var e,t,s,l,d,x,b,N,E;let S=(0,u.useRouter)(),{ref:k,functionSlug:A}=(0,h.g)(),[X,$]=(0,m.useState)(!1),K=(0,F.SE)(r.aG.FUNCTIONS_WRITE,"*"),{data:G}=(0,v.Gm)({projectRef:k}),{data:Q}=(0,j.A)({projectRef:k}),{data:ee,error:et,isLoading:es,isError:en,isSuccess:ea}=(0,w.F)({projectRef:k,slug:A}),{mutate:er,isLoading:el}=D(),{mutate:ei,isLoading:eo}=_({onSuccess:()=>{p.oR.success('Successfully deleted "'.concat(null==ee?void 0:ee.name,'"')),S.push("/project/".concat(k,"/functions"))}}),ed=(0,f.mN)({resolver:(0,a.u)(Y),defaultValues:{name:"",verify_jwt:!1}}),{anonKey:ec}=(0,v.d6)(G),eu=null!=(l=null==ec?void 0:ec.api_key)?l:"[YOUR ANON KEY]",em=null!=(d=null==G||null==(e=G.app_config)?void 0:e.protocol)?d:"https",ef=null!=(x=null==G||null==(t=G.app_config)?void 0:t.endpoint)?x:"",ep=(null==Q||null==(s=Q.customDomain)?void 0:s.status)==="active"?"https://".concat(Q.customDomain.hostname,"/functions/v1/").concat(null==ee?void 0:ee.slug):"".concat(em,"://").concat(ef,"/functions/v1/").concat(null==ee?void 0:ee.slug),ex=(0,m.useMemo)(()=>(null==ee?void 0:ee.import_map)||(null==ee?void 0:ee.import_map_path),[ee]),{managementCommands:eh}=V({selectedFunction:ee,functionUrl:ep,anonKey:eu}),ey=async e=>k?void 0===ee?console.error("No edge function selected"):void er({projectRef:k,slug:ee.slug,payload:e},{onSuccess:()=>{p.oR.success("Successfully updated edge function")}}):console.error("Project ref is required"),eg=async()=>k?void 0===ee?console.error("No edge function selected"):void ei({projectRef:k,slug:ee.slug}):console.error("Project ref is required");return(0,m.useEffect)(()=>{ee&&ed.reset({name:ee.name,verify_jwt:ee.verify_jwt})},[ee]),(0,n.jsxs)("div",{className:"mx-auto flex flex-col-reverse 2xl:flex-row gap-8 pb-8","data-sentry-component":"EdgeFunctionDetails","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0 overflow-hidden",children:[(0,n.jsxs)(y.gu,{isFullWidth:!0,className:"!pt-0 2xl:first:!pt-12","data-sentry-element":"ScaffoldSection","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsx)(y.sZ,{className:"mb-4","data-sentry-element":"ScaffoldSectionTitle","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Function Configuration"}),(0,n.jsx)(C.lV,{...ed,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,n.jsx)("form",{onSubmit:ed.handleSubmit(ey),children:(0,n.jsxs)(M.Zp,{"data-sentry-element":"Card","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsx)(M.Wu,{"data-sentry-element":"CardContent","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,n.jsx)(C.zB,{control:ed.control,name:"name",render:e=>{let{field:t}=e;return(0,n.jsx)(U.M,{label:"Name",layout:"flex-row-reverse",description:"Your slug and endpoint URL will remain the same",children:(0,n.jsx)(C.MJ,{children:(0,n.jsx)(T.p,{...t,className:"w-64",disabled:!K})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx"})}),(0,n.jsx)(M.Wu,{"data-sentry-element":"CardContent","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,n.jsx)(C.zB,{control:ed.control,name:"verify_jwt",render:e=>{let{field:t}=e;return(0,n.jsx)(U.M,{label:"Enforce JWT Verification",layout:"flex-row-reverse",description:"Require a valid JWT in the authorization header when invoking the function",children:(0,n.jsx)(C.MJ,{children:(0,n.jsx)(R.d,{checked:t.value,onCheckedChange:t.onChange,disabled:!K})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx"})}),(0,n.jsxs)(M.wL,{className:"flex justify-end space-x-2","data-sentry-element":"CardFooter","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[ed.formState.isDirty&&(0,n.jsx)(L.$,{type:"default",onClick:()=>ed.reset(),children:"Cancel"}),(0,n.jsx)(L.$,{type:"primary",htmlType:"submit",loading:el,disabled:!K||!ed.formState.isDirty,"data-sentry-element":"Button","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Save changes"})]})]})})})]}),(0,n.jsxs)(y.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsx)(y.sZ,{className:"mb-4","data-sentry-element":"ScaffoldSectionTitle","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Invoke function"}),(0,n.jsx)(M.Zp,{"data-sentry-element":"Card","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,n.jsx)(M.Wu,{"data-sentry-element":"CardContent","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,n.jsxs)(O.tU,{defaultValue:"curl",className:"w-full","data-sentry-element":"Tabs","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsx)(O.j7,{className:"flex flex-wrap gap-4","data-sentry-element":"TabsList","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:B.I.map(e=>(0,n.jsx)(O.Xi,{value:e.id,children:e.label},e.id))}),B.I.map(e=>{var t;return(0,n.jsx)(O.av,{value:e.id,className:"mt-4",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)(I.N,{language:e.language,hideLineNumbers:e.hideLineNumbers,className:"p-0 text-xs !mt-0 border-none",value:e.code(ep,null!=(t=null==ee?void 0:ee.name)?t:"",eu)})})},e.id)})]})})})]}),(0,n.jsxs)(y.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsx)(y.sZ,{className:"mb-4","data-sentry-element":"ScaffoldSectionTitle","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Develop locally"}),(0,n.jsx)("div",{className:"rounded border bg-surface-100 px-6 py-4 drop-shadow-sm",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)(J.A,{commands:[{command:"supabase functions download ".concat(null==ee?void 0:ee.slug),description:"Download the function to your local machine",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions download"," ",null==ee?void 0:ee.slug]}),comment:"1. Download the function"}],"data-sentry-element":"CommandRender","data-sentry-source-file":"EdgeFunctionDetails.tsx"}),(0,n.jsx)(J.A,{commands:[eh[0]],"data-sentry-element":"CommandRender","data-sentry-source-file":"EdgeFunctionDetails.tsx"}),(0,n.jsx)(J.A,{commands:[eh[1]],"data-sentry-element":"CommandRender","data-sentry-source-file":"EdgeFunctionDetails.tsx"})]})})]}),(0,n.jsxs)(y.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsx)(y.sZ,{className:"mb-4","data-sentry-element":"ScaffoldSectionTitle","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Delete function"}),(0,n.jsxs)(q.Fc,{variant:"destructive","data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsx)(W.HV,{"data-sentry-element":"CriticalIcon","data-sentry-source-file":"EdgeFunctionDetails.tsx"}),(0,n.jsx)(q.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Once your function is deleted, it can no longer be restored"}),(0,n.jsx)(q.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Make sure you have made a backup if you want to restore your edge function"}),(0,n.jsx)(q.TN,{className:"mt-3","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,n.jsx)(L.$,{type:"danger",disabled:!K,loading:(null==ee?void 0:ee.id)===void 0,onClick:()=>$(!0),"data-sentry-element":"Button","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Delete edge function"})})]})]}),(0,n.jsx)(H.A,{visible:X,loading:eo,variant:"destructive",confirmLabel:"Delete",confirmLabelLoading:"Deleting",title:"Confirm to delete ".concat(null==ee?void 0:ee.name),onCancel:()=>$(!1),onConfirm:eg,alert:{base:{variant:"destructive"},title:"This action cannot be undone",description:"Ensure that you have made a backup if you want to restore your edge function"},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"EdgeFunctionDetails.tsx"})]}),(0,n.jsx)("div",{className:"w-full 2xl:max-w-[600px] shrink-0",children:(0,n.jsx)(y.gu,{isFullWidth:!0,className:"!pt-6 2xl:first:!pt-12","data-sentry-element":"ScaffoldSection","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,n.jsxs)(M.Zp,{"data-sentry-element":"Card","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,n.jsx)(M.aR,{"data-sentry-element":"CardHeader","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,n.jsx)(M.ZB,{"data-sentry-element":"CardTitle","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Details"})}),(0,n.jsxs)(M.Wu,{className:"pt-6 space-y-6","data-sentry-element":"CardContent","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[es&&(0,n.jsx)(P.y,{}),en&&(0,n.jsx)(g.A,{error:et,subject:"Failed to retrieve edge function details"}),ea&&(0,n.jsxs)("dl",{className:"grid grid-cols-1 xl:grid-cols-[auto_1fr] gap-y-4 xl:gap-y-6 gap-x-10",children:[(0,n.jsx)("dt",{className:"text-sm text-foreground-light",children:"Slug"}),(0,n.jsx)("dd",{className:"text-sm lg:text-left",children:null==ee?void 0:ee.slug}),(0,n.jsx)("dt",{className:"text-sm text-foreground-light",children:"Endpoint URL"}),(0,n.jsx)("dd",{className:"text-sm lg:text-left",children:(0,n.jsx)(Z.A,{className:"font-mono input-mono",disabled:!0,copy:!0,size:"small",value:ep})}),(0,n.jsx)("dt",{className:"text-sm text-foreground-light",children:"Region"}),(0,n.jsx)("dd",{className:"text-sm lg:text-left",children:"All functions are deployed globally"}),(0,n.jsx)("dt",{className:"text-sm text-foreground-light",children:"Created at"}),(0,n.jsx)("dd",{className:"text-sm lg:text-left",children:i()(null!=(b=null==ee?void 0:ee.created_at)?b:0).format("dddd, MMMM D, YYYY h:mm A")}),(0,n.jsx)("dt",{className:"text-sm text-foreground-light",children:"Last updated at"}),(0,n.jsx)("dd",{className:"text-sm lg:text-left",children:i()(null!=(N=null==ee?void 0:ee.updated_at)?N:0).format("dddd, MMMM D, YYYY h:mm A")}),(0,n.jsx)("dt",{className:"text-sm text-foreground-light",children:"Deployments"}),(0,n.jsx)("dd",{className:"text-sm lg:text-left",children:null!=(E=null==ee?void 0:ee.version)?E:0}),(0,n.jsx)("dt",{className:"text-sm text-foreground-light",children:"Import Maps"}),(0,n.jsxs)("dd",{className:"text-sm lg:text-left",children:[(0,n.jsxs)("p",{children:["Import maps are"," ",(0,n.jsx)("span",{className:(0,z.cn)(ex?"text-brand":"text-amber-900"),children:ex?"used":"not used"})," ","for this function"]}),(0,n.jsx)("p",{className:"text-foreground-light mt-1",children:"Import maps allow the use of bare specifiers in functions instead of explicit import URLs"}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(L.$,{asChild:!0,type:"default",size:"tiny",icon:(0,n.jsx)(o.A,{strokeWidth:1.5}),children:(0,n.jsx)(c(),{href:"https://supabase.com/docs/guides/functions/dependencies",target:"_blank",rel:"noreferrer",children:"More about import maps"})})})]})]})]})]})})})]})};var $=s(6408),K=s(40459);let G=()=>(0,n.jsx)("div",{className:"px-6","data-sentry-component":"PageLayout","data-sentry-source-file":"details.tsx",children:(0,n.jsx)(X,{"data-sentry-element":"EdgeFunctionDetails","data-sentry-source-file":"details.tsx"})});G.getLayout=e=>(0,n.jsx)($.A,{children:(0,n.jsx)(K.A,{children:e})});let Q=G},56404:(e,t,s)=>{"use strict";s.d(t,{Mj:()=>m,d7:()=>r});var n=s(53239);function a(e,t){window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:t}))}function r(e,t){let[s,a]=n.useState(e);return n.useEffect(()=>{let s=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}let l={past:[],present:null,future:[]},i=(e,t)=>{let s=JSON.stringify(t);window.localStorage.setItem(e,s),a(e,s)},o=e=>{window.localStorage.removeItem(e),a(e,null)},d=e=>window.localStorage.getItem(e),c=e=>(window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)),u=()=>{throw Error("useLocalStorage is a client-only hook")};function m(e,t){let s=n.useSyncExternalStore(c,()=>d(e),u),a=n.useCallback(t=>{try{let n="function"==typeof t?t(JSON.parse(s)):t;null==n?o(e):i(e,n)}catch(e){console.warn(e)}},[e,s]);return n.useEffect(()=>{null===d(e)&&void 0!==t&&i(e,t)},[e,t]),[s?JSON.parse(s):t,a]}let f=()=>navigator?.connection||navigator?.mozConnection||navigator?.webkitConnection},63004:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},66001:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var n=s(34164);let a={search:"",timestampStart:"",timestampEnd:"",filters:{}},r=e=>(0,n.Cp)({parse:t=>null!=t?t:e,serialize:e=>e||""}),l=e=>(0,n.Cp)({parse:t=>{if(!t)return e;try{return JSON.parse(t)}catch(t){return e}},serialize:e=>{if(!e)return"";try{return JSON.stringify(e)}catch(e){return""}}});function i(){let[e,t]=(0,n.ZA)("s",r(a.search)),[s,i]=(0,n.ZA)("its",r(a.timestampStart)),[o,d]=(0,n.ZA)("ite",r(a.timestampEnd)),[c,u]=(0,n.ZA)("log",r("")),[m,f]=(0,n.ZA)("f",l(a.filters)),p=e||a.search,x=s||a.timestampStart,h=o||a.timestampEnd,y=m||a.filters,g=e=>{t(e||a.search)},v=e=>{f(e||a.filters)};return{search:p,timestampStart:x,timestampEnd:h,selectedLogId:c||null,filters:y,setSearch:g,setTimeRange:(e,t)=>{i(e||a.timestampStart),d(t||a.timestampEnd)},setSelectedLogId:e=>{u(e||"")},setFilters:v,updateFilter:(e,t)=>{v({...y,[e]:t})},reset:()=>{g(a.search),i(a.timestampStart),d(a.timestampEnd),u(""),f(a.filters)}}}},71391:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},77207:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]])},78294:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]])},81028:(e,t,s)=>{"use strict";s.d(t,{m:()=>r});var n=s(92589),a=s(53239);let r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.useMemo)(()=>{var e;let[s,a]=t;if(!(null==(e=s[0])?void 0:e[a]))return{data:s,error:void 0,isError:!1};try{return{data:(0,n.mu)(...t).sort((e,s)=>new Date(e[t[1]])-new Date(s[t[1]])),error:void 0,isError:!1}}catch(e){return{data:[],error:e,isError:!0}}},[JSON.stringify(t[0]),...t])}},87598:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(47370).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2479,8058,9353,9413,3730,6110,6182,589,9257,1673,5599,7990,8508,4365,2981,7406,6554,4560,4963,408,4340,30,2809,6692,5969,3719,9472,9088,3423,1252,7613,8601,8554,3131,9440,459,6593,636,8792],()=>t(55630)),_N_E=e.O()}]);