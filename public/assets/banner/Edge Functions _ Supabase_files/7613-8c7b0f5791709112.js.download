!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="30b562c6-04ff-42ca-bd79-76d516cdacf2",e._sentryDebugIdIdentifier="sentry-dbid-30b562c6-04ff-42ca-bd79-76d516cdacf2")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7613],{17457:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(80263);let s=e=>{let{active:t}=e;return t?(0,a.jsx)("div",{className:"logs-shimmering-loader w-full h-0.5","data-sentry-component":"ShimmerLine","data-sentry-source-file":"ShimmerLine.tsx"}):null}},18213:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(80263),s=n(63320),r=n.n(s),i=n(79193),l=n(2),o=n(53239),d=n(28894);function c(e){let{className:t}=e,[n,s]=(0,o.useState)(!1);return(0,a.jsxs)(i.Nt,{open:n,onOpenChange:s,className:(0,l.cn)("mt-4",t),"data-sentry-element":"Collapsible_Shadcn_","data-sentry-component":"OptInToOpenAIToggle","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:[(0,a.jsx)(i.R6,{asChild:!0,"data-sentry-element":"CollapsibleTrigger_Shadcn_","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)(d.A,{strokeWidth:2,size:16,className:(0,l.cn)("transition-all",n?"rotate-90":""),"data-sentry-element":"ChevronRight","data-sentry-source-file":"OptInToOpenAIToggle.tsx"}),(0,a.jsx)("p",{className:"text-sm text-foreground-light underline",children:"Important information regarding opting in"})]})}),(0,a.jsx)(i.Ke,{"data-sentry-element":"CollapsibleContent_Shadcn_","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:(0,a.jsxs)("div",{className:"space-y-2 py-4 text-sm text-foreground-light",children:[(0,a.jsx)("p",{children:"Supabase AI is a chatbot support tool powered by OpenAI. Supabase will share the query you submit and information about the databases you manage through Supabase with OpenAI, L.L.C. and its affiliates in order to provide the Supabase AI tool."}),(0,a.jsx)("p",{children:"OpenAI will only access information about the structure of your databases, such as table names, column and row headings. OpenAI will not access the contents of the database itself."}),(0,a.jsx)("p",{children:"OpenAI uses this information to generate responses to your query, and does not retain or use the information to train its algorithms or otherwise improve its products and services."}),(0,a.jsx)("p",{children:"If you have your own individual account on Supabase, we will use any personal information collected through [Supabase AI] to provide you with the [Supabase AI] tool. If you are in the UK, EEA or Switzerland, the processing of this personal information is necessary for the performance of a contract between you and us."}),(0,a.jsx)("p",{children:"Supabase collects information about the queries you submit through Supabase AI and the responses you receive to assess the performance of the Supabase AI tool and improve our services. If you are in the UK, EEA or Switzerland, the processing is necessary for our legitimate interests, namely informing our product development and improvement."}),(0,a.jsxs)("p",{children:["For more information about how we use personal information, please see our"," ",(0,a.jsx)(r(),{href:"https://supabase.com/privacy",target:"_blank",rel:"noreferrer",className:"text-brand border-b border-brand","data-sentry-element":"Link","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:"privacy policy"}),"."]})]})})]})}},18570:(e,t,n)=>{n.d(t,{N:()=>d});var a=n(32144),s=n(80251),r=n(73969),i=n(3807),l=n(42719);async function o(e){let{slug:t,name:n,billing_email:a,opt_in_tags:s,additional_billing_emails:r}=e,l={};n&&(l.name=n),a&&(l.billing_email=a),s&&(l.opt_in_tags=s),r&&(l.additional_billing_emails=r);let{data:o,error:d}=await (0,i.F6)("/platform/organizations/{slug}",{params:{path:{slug:t}},body:l});return d&&(0,i.H4)(d),o}let d=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,a.jE)();return(0,s.n)(e=>o(e),{async onSuccess(t,n,a){i.setQueriesData({queryKey:l.O.list(),exact:!0},e=>e?e.map(e=>e.slug!==n.slug?e:{...e,name:n.name||e.name,billing_email:n.billing_email||e.billing_email,opt_in_tags:n.opt_in_tags||e.opt_in_tags}):e),i.setQueriesData({queryKey:l.O.customerProfile(t.slug),exact:!0},e=>e?{...e,additional_emails:n.additional_billing_emails||e.additional_emails}:e),i.setQueriesData({queryKey:l.O.detail(t.slug),exact:!0},e=>e?{...e,name:n.name||e.name,billing_email:n.billing_email||e.billing_email,opt_in_tags:n.opt_in_tags||e.opt_in_tags}:e),await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?r.oR.error("Failed to update organization: ".concat(e.message)):t(e,n,a)},...n})}},19528:(e,t,n)=>{n.d(t,{O:()=>l});var a=n(56947),s=n(3807),r=n(77054);async function i(e,t){let{organizationId:n}=e;if(!n)throw Error("organizationId is required");let{data:a,error:r}=await (0,s.Jt)("/platform/integrations/github/connections",{params:{query:{organization_id:n}},signal:t});return r&&(0,s.H4)(r),a.connections}let l=function(e){let{organizationId:t}=e,{enabled:n=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)(r.Z.githubConnectionsList(t),e=>{let{signal:n}=e;return i({organizationId:t},n)},{enabled:n&&void 0!==t,staleTime:18e5,...s})}},22392:(e,t,n)=>{n.d(t,{cC:()=>c,j5:()=>d});var a=n(60045),s=n(56947),r=n(3807),i=n(65904),l=n(60237);async function o(e,t){let{orgSlug:n}=e;if(!n)throw Error("orgSlug is required");let{error:a,data:s}=await (0,r.Jt)("/platform/organizations/{slug}/billing/subscription",{params:{path:{slug:n}},signal:t});return a&&(0,r.H4)(a),s}let d=function(e){let{orgSlug:t}=e,{enabled:n=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,i.SE)(a.aG.BILLING_READ,"stripe.subscriptions");return(0,s.I)(l.s.orgSubscription(t),e=>{let{signal:n}=e;return o({orgSlug:t},n)},{enabled:n&&d&&void 0!==t,staleTime:36e5,...r})},c=e=>{let{data:t}=d({orgSlug:e});return(null==t?void 0:t.plan.id)==="enterprise"||(null==t?void 0:t.plan.id)==="team"}},27787:(e,t,n)=>{n.d(t,{M:()=>v});var a=n(80263),s=n(53239),r=n(85669),i=n(79279),l=n(37055),o=n(2),d=n(27863),c=n(76403);let u=(0,i.F)("relative grid gap-10",{variants:{size:{tiny:"text-xs",small:"text-sm leading-4",medium:"text-sm",large:"text-base",xlarge:"text-base"},align:{left:"",right:""},responsive:{true:"",false:""},layout:{horizontal:"flex flex-col gap-2 md:grid md:grid-cols-12",vertical:"flex flex-col gap-2",flex:"flex flex-row gap-3","flex-row-reverse":"flex flex-row gap-6 flex-row-reverse justify-between"},flex:{true:"",false:""}},compoundVariants:[{layout:"flex",align:"right",className:"justify-between"},{layout:"flex-row-reverse",align:"right",className:"justify-between"}],defaultVariants:{}}),m=(0,i.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"flex flex-col gap-2 col-span-4",vertical:"flex flex-row gap-2 justify-between",flex:"flex flex-col gap-0","flex-row-reverse":"flex flex-col"},labelLayout:{horizontal:"",vertical:"","":""}},compoundVariants:[{flex:!0,align:"left",className:"order-2"},{flex:!0,align:"right",className:"order-1"},{layout:"vertical",labelLayout:void 0,flex:!1,className:"flex flex-row gap-2 justify-between"},{layout:"horizontal",className:"flex flex-col gap-2"}],defaultVariants:{}}),x=(0,i.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"order-1",right:"order-2"},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:"order-1"},{flex:!0,align:"right",className:"order-2"},{layout:"vertical",className:"col-span-12"},{layout:"horizontal",align:"left",className:"col-span-8"},{layout:"horizontal",align:"right",className:"text-right"}],defaultVariants:{}}),f=(0,i.F)("text-foreground-lighter leading-normal",{variants:{size:{...c.SK.text},layout:{vertical:"mt-2",horizontal:"mt-2",flex:"","flex-row-reverse":""}},defaultVariants:{}}),h=(0,i.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),g=(0,i.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),p=(0,i.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),b=(0,i.F)("",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:""},{flex:!0,align:"right",className:"order-last"},{layout:"flex-row-reverse",className:"flex flex-col justify-center items-end shrink-0"}]}),y=(0,i.F)("",{variants:{nonBoxInput:{true:"",false:""},label:{true:"",false:""},layout:{vertical:"",horizontal:"","flex-row-reverse":""}},compoundVariants:[{nonBoxInput:!0,label:!0,layout:"vertical",className:"my-3"},{nonBoxInput:!0,label:!0,layout:"horizontal",className:"my-3 md:mt-0 mb-3"}],defaultVariants:{}}),j=s.forwardRef((e,t)=>{let{align:n="left",className:s,description:i,id:c,label:j,labelOptional:v,layout:N="vertical",style:w,labelLayout:S,size:H="medium",beforeLabel:I,afterLabel:C,nonBoxInput:_=!j,hideMessage:k=!1,isReactForm:A,...z}=e,P="flex"===N||"flex-row-reverse"===N,L=!!(j||I||C),O=A&&!k&&(0,a.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:(0,o.cn)("flex-row-reverse"===N?"mt-0":"mt-2"),children:(0,a.jsx)(r.C5,{className:(0,o.cn)("mt-2 transition-opacity duration-300 ease-in-out","flex-row-reverse"===N&&"mt-0"),"data-formlayout-id":"message"})}),F=i&&A?(0,a.jsx)(r.Rr,{className:(0,o.cn)(f({size:H,layout:N})),"data-formlayout-id":"description",id:c+"-description",children:i}):i?(0,a.jsx)("p",{className:(0,o.cn)(f({size:H,layout:N}),"text-sm text-foreground-light"),"data-formlayout-id":"description",children:i}):null,D=()=>(0,a.jsxs)(a.Fragment,{children:[I&&(0,a.jsx)("span",{className:(0,o.cn)(h({size:H})),id:c+"-before","data-formlayout-id":"beforeLabel",children:(0,a.jsx)("span",{children:I})}),(0,a.jsx)("span",{children:j}),C&&(0,a.jsx)("span",{className:(0,o.cn)(g({size:H})),id:c+"-after","data-formlayout-id":"afterLabel",children:C})]});return(0,a.jsxs)("div",{ref:t,...z,className:(0,o.cn)(u({size:H,flex:P,align:n,layout:N}),s),children:[P&&(0,a.jsxs)("div",{className:(0,o.cn)(b({flex:P,align:n,layout:N})),children:[z.children,"flex-row-reverse"===N&&O]}),L||v||"horizontal"===N?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,o.cn)(m({align:n,labelLayout:S,flex:P,layout:N})),"data-formlayout-id":"labelContainer",children:[L&&A?(0,a.jsx)(r.lR,{className:"text-foreground flex gap-2 items-center break-all","data-formlayout-id":"formLabel",htmlFor:z.name||c,children:(0,a.jsx)(D,{})}):(0,a.jsx)(d.J,{className:"text-foreground flex gap-2 items-center break-all leading-normal","data-formlayout-id":"label",htmlFor:z.name||c,children:(0,a.jsx)(D,{})}),v&&(0,a.jsx)("span",{className:(0,o.cn)(p({size:H})),id:c+"-optional","data-formlayout-id":"labelOptional",children:v}),P&&(0,a.jsxs)(a.Fragment,{children:[F,"flex-row-reverse"!==N&&O]})]})}):null,!P&&(0,a.jsx)("div",{className:(0,o.cn)(x({align:n,layout:N})),style:w,"data-formlayout-id":"dataContainer",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,o.cn)(y({nonBoxInput:_,label:j,layout:N})),"data-formlayout-id":"nonBoxInputContainer",children:z.children}),O,F]})})]})}),v=(0,s.forwardRef)((e,t)=>{let{...n}=e;return(0,a.jsx)(r.eI,{children:(0,a.jsx)(j,{ref:t,isReactForm:!0,...n,children:n.children})})});v.displayName="FormItemLayout"},29021:(e,t,n)=>{n.d(t,{U:()=>s,x:()=>a});let a=.8,s=["Pricing","My project isn't getting traction","Poor customer service","Missing feature","I didn't see the value","Supabase didn't meet my needs","Dashboard is too complicated","Postgres is too complicated","Problem not solved","Too many bugs/issues","I decided to use something else","My work has finished/discontinued","I’m migrating to/starting a new project","None of the above"]},32280:(e,t,n)=>{n.d(t,{L:()=>d});var a=n(32144),s=n(80251),r=n(73969),i=n(3807),l=n(77054);async function o(e,t){let{connectionId:n}=e,{data:a,error:s}=await (0,i.yH)("/platform/integrations/github/connections/{connection_id}",{params:{path:{connection_id:String(n)}},signal:t});return s&&(0,i.H4)(s),a}let d=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,a.jE)();return(0,s.n)(e=>o(e),{async onSuccess(t,n,a){await Promise.all([i.invalidateQueries(l.Z.githubConnectionsList(n.organizationId))]),await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?r.oR.error("Failed to delete Github connection: ".concat(e.message)):t(e,n,a)},...n})}},33794:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(80263);function s(e){let{body:t,head:n,className:s,containerClassName:r,borderless:i,headTrClasses:l,bodyClassName:o,style:d}=e,c=["table-container"];r&&c.push(r),i&&c.push("table-container--borderless");let u=["table"];return s&&u.push(s),(0,a.jsx)("div",{className:c.join(" "),"data-sentry-component":"Table","data-sentry-source-file":"Table.tsx",children:(0,a.jsxs)("table",{className:u.join(" "),style:d,children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:l,children:n})}),(0,a.jsx)("tbody",{className:o,children:t})]})})}s.th=e=>{let{children:t,className:n,style:s}=e,r=["p-3 px-4 text-left"];return n&&r.push(n),(0,a.jsx)("th",{className:r.join(" "),style:s,"data-sentry-component":"Th","data-sentry-source-file":"Table.tsx",children:t})},s.td=e=>{let{children:t,colSpan:n,className:s,style:r,...i}=e;return(0,a.jsx)("td",{className:s,colSpan:n,style:r,...i,"data-sentry-component":"Td","data-sentry-source-file":"Table.tsx",children:t})},s.tr=e=>{let{children:t,className:n,onClick:s,style:r,hoverable:i}=e,l=[n];return(s||i)&&l.push("tr--link"),(0,a.jsx)("tr",{className:l.join(" "),onClick:s,style:r,"data-sentry-component":"Tr","data-sentry-source-file":"Table.tsx",children:t})};let r=s},35091:(e,t,n)=>{n.d(t,{Ay:()=>d});var a=n(80263),s=n(39383);n(53239);var r=n(16601),i=n(3732),l=n(77690);let o=e=>{let{id:t,disabled:n,className:o,children:d,header:c,visible:u,open:m,size:x="medium",loading:f,align:h="right",hideFooter:g=!1,customFooter:p,onConfirm:b,onCancel:y,confirmText:j="Confirm",cancelText:v="Cancel",triggerElement:N,defaultOpen:w,tooltip:S,...H}=e,I=(0,l.A)("sidepanel"),C=p||(0,a.jsxs)("div",{className:I.footer,children:[(0,a.jsx)("div",{children:(0,a.jsx)(r.$,{disabled:f,type:"default",onClick:()=>y?y():null,children:v})}),void 0!==b&&(0,a.jsxs)(i.m_,{children:[(0,a.jsx)(i.k$,{asChild:!0,children:(0,a.jsx)("span",{className:"inline-block",children:(0,a.jsx)(r.$,{htmlType:"submit",disabled:n||f,loading:f,onClick:()=>b?b():null,children:j})})}),void 0!==S&&(0,a.jsx)(i.ZI,{side:"bottom",children:S})]})]});return m=m||u,(0,a.jsxs)(s.bL,{open:m,onOpenChange:function(e){void 0!==u&&!e&&y&&y()},defaultOpen:w,"data-sentry-element":"unknown","data-sentry-component":"SidePanel","data-sentry-source-file":"SidePanel.tsx",children:[N&&(0,a.jsx)(s.l9,{asChild:!0,className:I.trigger,children:N}),(0,a.jsxs)(s.ZL,{"data-sentry-element":"unknown","data-sentry-source-file":"SidePanel.tsx",children:[(0,a.jsx)(s.hJ,{className:I.overlay,"data-sentry-element":"unknown","data-sentry-source-file":"SidePanel.tsx"}),(0,a.jsxs)(s.UC,{className:[I.base,I.size[x],I.align[h],o&&o].join(" "),onOpenAutoFocus:H.onOpenAutoFocus,onCloseAutoFocus:H.onCloseAutoFocus,onEscapeKeyDown:H.onEscapeKeyDown,onPointerDownOutside:H.onPointerDownOutside,onInteractOutside:e=>{var t;(null==(t=e.target)?void 0:t.closest("#toast"))&&e.preventDefault(),H.onInteractOutside&&H.onInteractOutside(e)},"data-sentry-element":"unknown","data-sentry-source-file":"SidePanel.tsx",children:[c&&(0,a.jsx)("header",{className:I.header,children:c}),(0,a.jsx)("div",{className:I.contents,children:d}),!g&&C]})]})]})};o.Content=function(e){let{children:t,className:n}=e,s=(0,l.A)("sidepanel");return(0,a.jsx)("div",{className:[s.content,n].join(" ").trim(),"data-sentry-component":"Content","data-sentry-source-file":"SidePanel.tsx",children:t})},o.Separator=function(){let e=(0,l.A)("sidepanel");return(0,a.jsx)("div",{className:e.separator,"data-sentry-component":"Separator","data-sentry-source-file":"SidePanel.tsx"})};let d=o},37589:(e,t,n)=>{n.d(t,{g:()=>o});var a=n(53239),s=n(73401),r=n(22392),i=n(25718),l=n(58897);function o(){var e;let t=(0,i.a)(),n=null==t?void 0:t.opt_in_tags,o=null!=(e=null==n?void 0:n.includes(l.W2.AI_SQL))&&e;return(function(){let e=(0,i.a)(),{data:t}=(0,r.j5)({orgSlug:null==e?void 0:e.slug}),n=(0,s.BP)(t);return(0,a.useCallback)(e=>!n&&e,[n])})()(o)}},48385:(e,t,n)=>{n.d(t,{I:()=>l,U:()=>o});var a=n(3807),s=n(39887),r=n(70923);async function i(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=await (0,a.x8)(e);if(!n.ok)return{error:new s.o(n.statusText,n.status)};try{return t?await n.json():await n.text()}catch(e){return{error:new s.o(e.message,500)}}}async function l(e){var t,n;if(!e)return null;let[,,,a,s,,l,...o]=null!=(n=null==e?void 0:e.split("/"))?n:[],d=o.join("/"),c="https://api.github.com/repos/".concat(a,"/").concat(s,"/contents/").concat(d),u="".concat(c,"/supabase?ref=").concat(l),m="".concat(c,"/").concat("supabase/migrations").concat(l?"?ref=".concat(l):""),[x,f]=await Promise.all([i(u),i(m)]);if(!(0,r.IP)(x))return console.warn("Failed to fetch supabase files from GitHub: ".concat(x.error)),null;if(!(0,r.IP)(f))return console.warn("Failed to fetch migration files from GitHub: ".concat(f.error)),null;let h=null==(t=x.find(e=>"seed.sql"===e.name))?void 0:t.download_url,g=f.sort((e,t)=>e.name<t.name?-1:+(e.name>t.name)),p=g.map(e=>i(e.download_url,!1)),[b,...y]=await Promise.all([h?i(h,!1):Promise.resolve(""),...p]),j=y.filter(e=>(0,r.IP)(e)).join(";"),v=(0,r.IP)(b)?b:"",N="\n    create schema if not exists supabase_migrations;\n    create table if not exists supabase_migrations.schema_migrations (\n      version text not null primary key,\n      statements text[],\n      name text\n    );\n    ".concat(g.map((e,t)=>{let n=y[t];if(!(0,r.IP)(n))return"";let a=e.name.split("_")[0],s=JSON.stringify(n.split(";").map(e=>e.trim()).filter(Boolean));return"\n        insert into supabase_migrations.schema_migrations (version, statements, name)\n        select '".concat(a,"', array_agg(jsonb_statements)::text[], '").concat(e.name,"'\n        from jsonb_array_elements_text($statements$").concat(s,"$statements$::jsonb) as jsonb_statements;\n      ")}),"\n  ");return"".concat(j,";").concat(N,";").concat(v)}function o(e){var t,n,a,s,r,i,l,o;return"Vercel"===e.integration.name?(t=e,"https://vercel.com/dashboard/".concat((null==(n=t.metadata)?void 0:n.account.type)==="Team"?"".concat(null==(a=t.metadata)?void 0:a.account.team_slug,"/"):"","integrations/").concat(null==(s=t.metadata)?void 0:s.configuration_id)):"GitHub"===e.integration.name?(r=e,"https://github.com/".concat((null==(i=r.metadata)?void 0:i.account.type)==="Organization"?"organizations/".concat(null==(l=r.metadata)?void 0:l.account.name,"/"):"","settings/installations/").concat(null==(o=r.metadata)?void 0:o.installation_id)):""}},50720:(e,t,n)=>{n.d(t,{m:()=>l});var a=n(56947),s=n(3807),r=n(77054);async function i(e){let{data:t,error:n}=await (0,s.Jt)("/platform/integrations/github/authorization",{signal:e});return n?null:t}let l=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.I)(r.Z.githubAuthorization(),e=>{let{signal:t}=e;return i(t)},{enabled:e,staleTime:0,...t})}},59768:(e,t,n)=>{n.d(t,{bZ:()=>i});var a=n(56028),s=n(12532);let r=(0,a.BX)({vercelConnectionsOpen:!1,setVercelConnectionsOpen:e=>{r.vercelConnectionsOpen=e},vercelConnectionsIntegrationId:void 0,setVercelConnectionsIntegrationId:e=>{r.vercelConnectionsIntegrationId=e},githubConnectionsOpen:!1,setGithubConnectionsOpen:e=>{r.githubConnectionsOpen=e}}),i=e=>(0,s.s)(r,e)},61314:(e,t,n)=>{n.d(t,{l:()=>N});var a=n(80263),s=n(97403),r=n(53434),i=n.n(r),l=n(53284),o=n(73892),d=n(48277),c=n(28894),u=n(53239),m=n(38887),x=n.n(m),f=n(10738),h=n(16601),g=n(88155),p=n(95720);let b=new Date,y=new Date,j={HH:"00",mm:"00",ss:"00"},v={HH:"23",mm:"59",ss:"59"},N=function(e){let{to:t,from:n,onChange:r,triggerButtonType:m="default",triggerButtonClassName:N="",triggerButtonTitle:w,minDate:S,maxDate:H,hideTime:I=!1,hideClear:C=!1,selectsRange:_=!0,renderFooter:k=()=>null,children:A}=e,[z,P]=(0,u.useState)(!1),[L,O]=(0,u.useState)(null),[F,D]=(0,u.useState)(null),[T,R]=(0,u.useState)(b),[M,E]=(0,u.useState)(y),[G,B]=(0,u.useState)(j),[$,V]=(0,u.useState)(v);return(0,u.useEffect)(()=>{if(n){if(n!==(null==L?void 0:L.toISOString())){let e=i()(n),t=e.toDate();O(t),R(t),B({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else O(null);if(t){if(t!==(null==F?void 0:F.toISOString())){let e=i()(t),n=e.toDate();D(n),E(n),V({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else D(null)},[t,n]),(0,a.jsxs)(f.AM,{open:z,onOpenChange:P,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"_DatePicker","data-sentry-source-file":"DatePicker.tsx",children:[(0,a.jsx)(f.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"DatePicker.tsx",children:(0,a.jsx)(h.$,{title:w,type:m,icon:(0,a.jsx)(l.A,{}),className:N,"data-sentry-element":"Button","data-sentry-source-file":"DatePicker.tsx",children:void 0!==A?A:(0,a.jsx)(a.Fragment,{children:_&&L&&F&&L!==F?(0,a.jsxs)(a.Fragment,{children:[(0,s.default)(new Date(L),"dd MMM")," -"," ",(0,s.default)(new Date(F),"dd MMM")]}):L||F?(0,s.default)(new Date(L||F),"dd MMM"):"Custom"})})}),(0,a.jsx)(f.hl,{align:"center",side:"bottom",className:"p-0","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"DatePicker.tsx",children:(0,a.jsxs)(a.Fragment,{children:[I?null:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-stretch justify-between py-2",children:[_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex grow flex-col gap-1 pl-2",children:(0,a.jsx)(p.A,{type:"start",startTime:G,endTime:$,time:G,setTime:B,setStartTime:B,setEndTime:V,startDate:T,endDate:M})}),(0,a.jsx)("div",{className:"\n                      flex \n                      w-12 \n                      items-center \n                      justify-center\n                      text-foreground-lighter\n                    ",children:(0,a.jsx)(o.A,{strokeWidth:1.5,size:14})})]}):null,(0,a.jsx)("div",{className:"flex grow flex-col gap-1 pr-2",children:(0,a.jsx)(p.A,{type:"end",startTime:G,endTime:$,time:$,setTime:V,setStartTime:B,setEndTime:V,startDate:T,endDate:M})})]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(x(),{inline:!0,selectsRange:_,selected:T,onChange:e=>{if(e)if(e instanceof Date)R(e),E(e);else{let[t,n]=e;R(t),E(n)}else R(null),E(null)},dateFormat:"MMMM d, yyyy h:mm aa",startDate:T,endDate:M,minDate:S,maxDate:H,dayClassName:()=>"cursor-pointer",renderCustomHeader:e=>{let{date:t,decreaseMonth:n,increaseMonth:r,prevMonthButtonDisabled:i,nextMonthButtonDisabled:l}=e;return(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)("button",{onClick:n,disabled:i,type:"button",className:"\n                        ".concat(i&&"cursor-not-allowed opacity-50","\n                        text-foreground-light hover:text-foreground focus:outline-none p-2\n                    "),children:(0,a.jsx)(d.A,{size:16,strokeWidth:2})}),(0,a.jsx)("span",{className:"text-sm text-foreground-light",children:(0,s.default)(t,"MMMM yyyy")}),(0,a.jsx)("button",{onClick:r,disabled:l,type:"button",className:"\n                        ".concat(l&&"cursor-not-allowed opacity-50","\n                        text-foreground-light p-2 hover:text-foreground focus:outline-none\n                    "),children:(0,a.jsx)(c.A,{size:16,strokeWidth:2})})]})})},"data-sentry-element":"DatePicker","data-sentry-source-file":"DatePicker.tsx"})}),k({from:(null==T?void 0:T.toISOString())||null,to:(null==M?void 0:M.toISOString())||null}),(0,a.jsx)(g.A.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"DatePicker.tsx"}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 py-2 px-3 pb-4",children:[!C&&(0,a.jsx)(h.$,{type:"default",onClick:()=>void(P(!1),R(b),E(y),B(j),V(v),O(null),D(null),r&&r({from:null,to:null})),children:"Clear"}),(0,a.jsx)(h.$,{onClick:()=>(function(){P(!1),O(T),D(M);let e={from:i()(T).second(Number(G.ss)).minute(Number(G.mm)).hour(Number(G.HH)).toISOString(),to:i()(M||T).second(Number($.ss)).minute(Number($.mm)).hour(Number($.HH)).toISOString()};r&&r(e)})(),"data-sentry-element":"Button","data-sentry-source-file":"DatePicker.tsx",children:"Apply"})]})]})})]})}},62719:(e,t,n)=>{n.d(t,{A:()=>l,y:()=>i});var a=n(80263),s=n(2);let r=e=>{let{className:t,delayIndex:n=0,animationDelay:r=150}=e;return(0,a.jsx)("div",{className:(0,s.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(n*r,"ms")},"data-sentry-component":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})},i=e=>{let{className:t}=e;return(0,a.jsxs)("div",{className:(0,s.cn)(t,"space-y-2"),"data-sentry-component":"GenericSkeletonLoader","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(r,{"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(r,{className:"w-3/4","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(r,{className:"w-1/2","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})]})},l=r},65039:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(80263),s=n(68656),r=n(97318),i=n(52385),l=n(53239),o=n(73969),d=n(17457),c=n(25718),u=n(58897),m=n(49446),x=n(86303),f=n(2),h=n(10738),g=n(16601),p=n(50854);let b=e=>{var t,n,b,y;let{organizationIntegrationId:j,foreignProjects:v,supabaseProjects:N,onCreateConnections:w,installedConnections:S=x.Oj,isLoading:H,integrationIcon:I,getForeignProjectIcon:C,choosePrompt:_="Choose a project",onSkip:k,loadingForeignProjects:A,loadingSupabaseProjects:z,showNoEntitiesState:P=!0,defaultSupabaseProjectRef:L,defaultForeignProjectId:O,mode:F}=e,D=(0,i.useRouter)(),[T,R]=(0,l.useState)(!1),[M,E]=(0,l.useState)(!1),G=(0,l.useRef)(null),B=(0,l.useRef)(null),$=(0,c.a)(),[V,W]=(0,l.useState)(L);(0,l.useEffect)(()=>{void 0!==L&&void 0===V&&W(L)},[L,V]);let[K,q]=(0,l.useState)(O);(0,l.useEffect)(()=>{void 0!==O&&void 0===K&&q(O)},[O,K]);let Z=new Set(S.map(e=>e.foreign_project_id)),J=V?N.find(e=>{var t;return(null==(t=e.ref)?void 0:t.toLowerCase())===(null==V?void 0:V.toLowerCase())}):void 0,Q=K?v.find(e=>{var t;return(null==(t=e.id)?void 0:t.toLowerCase())===(null==K?void 0:K.toLowerCase())}):void 0,U=e=>{let{children:t,className:n,...s}=e;return(0,a.jsx)("div",{className:(0,f.cn)("flex-1 min-w-0 flex flex-col grow gap-6 px-5 mx-auto w-full justify-center items-center",n),...s,"data-sentry-component":"Panel","data-sentry-source-file":"ProjectLinker.tsx",children:t})},Y=0===N.length,X=0===v.length,ee=Y?"Supabase":F,et=Y?F:"Supabase";return(0,a.jsxs)("div",{className:"flex flex-col gap-4","data-sentry-component":"ProjectLinker","data-sentry-source-file":"ProjectLinker.tsx",children:[(0,a.jsxs)("div",{className:"relative border rounded-lg p-12 bg shadow",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-grid-black/5 [mask-image:linear-gradient(0deg,#fff,rgba(255,255,255,0.6))] dark:bg-grid-white/5 dark:[mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.5))]",style:{backgroundPosition:"10px 10px"}}),A||z?(0,a.jsxs)("div",{className:"w-1/2 mx-auto space-y-2 py-4",children:[(0,a.jsx)("p",{className:"text-sm text-foreground text-center",children:"Loading projects"}),(0,a.jsx)(d.A,{active:!0})]}):P&&(Y||X)?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("h5",{className:"text-foreground",children:["No ",ee," Projects found"]}),(0,a.jsxs)("p",{className:"text-foreground-light text-sm",children:["You will need to create a ",ee," Project to link to a ",et," ","Project.",(0,a.jsx)("br",{}),"You can skip this and create a Project Connection later."]})]}):(0,a.jsxs)("div",{className:"flex justify-center gap-0 w-full relative",children:[(0,a.jsxs)(U,{children:[(0,a.jsx)("div",{className:"bg-white shadow border rounded p-1 w-12 h-12 flex justify-center items-center",children:(0,a.jsx)("img",{src:"".concat(u.o2,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-6"})}),(0,a.jsxs)(h.AM,{open:T,onOpenChange:R,children:[(0,a.jsx)(h.Wv,{asChild:!0,children:(0,a.jsx)(g.$,{ref:G,type:"default",block:!0,disabled:void 0!==L||z,loading:z,className:"justify-start h-[34px]",icon:(0,a.jsx)("div",{className:"bg-white shadow border rounded p-1 w-6 h-6 flex justify-center items-center",children:(0,a.jsx)("img",{src:"".concat(u.o2,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-4"})}),iconRight:void 0===L?(0,a.jsx)("span",{className:"grow flex justify-end",children:(0,a.jsx)(s.A,{})}):null,children:J?J.name:"Choose Supabase Project"})}),(0,a.jsx)(h.hl,{className:"p-0 !w-72",side:"bottom",align:"center",style:{width:null==(t=G.current)?void 0:t.offsetWidth},children:(0,a.jsxs)(p.uB,{children:[(0,a.jsx)(p.G7,{placeholder:"Search for a project"}),(0,a.jsxs)(p.oI,{className:"!max-h-[170px]",children:[(0,a.jsx)(p.xL,{children:"No results found."}),(0,a.jsxs)(p.L$,{children:[N.map((e,t)=>(0,a.jsxs)(p.h_,{value:"".concat(e.name.replaceAll('"',""),"-").concat(t),className:"flex gap-2 items-center",onSelect:()=>{e.ref&&W(e.ref),R(!1)},children:[(0,a.jsx)("div",{className:"bg-white shadow border rounded p-1 w-6 h-6 flex justify-center items-center",children:(0,a.jsx)("img",{src:"".concat(u.o2,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-4"})}),(0,a.jsx)("span",{children:e.name})]},e.ref)),0===N.length&&(0,a.jsx)("p",{className:"text-xs text-foreground-lighter px-2 py-2",children:"No projects found in this organization"})]}),(0,a.jsx)(p.fx,{}),(0,a.jsx)(p.L$,{children:(0,a.jsxs)(p.h_,{className:"flex gap-2 items-center cursor-pointer",onClick:()=>D.push("/new/".concat(null==$?void 0:$.slug)),onSelect:()=>D.push("/new/".concat(null==$?void 0:$.slug)),children:[(0,a.jsx)(r.A,{size:16}),(0,a.jsx)("span",{children:"Create a new project"})]})})]})]})})]})]}),(0,a.jsx)("div",{className:"border border-foreground-lighter h-px w-8 border-dashed self-end mb-4"}),(0,a.jsxs)(U,{children:[(0,a.jsx)("div",{className:"bg-black shadow rounded p-1 w-12 h-12 flex justify-center items-center",children:I}),(0,a.jsxs)(h.AM,{open:M,onOpenChange:E,children:[(0,a.jsx)(h.Wv,{asChild:!0,children:(0,a.jsx)(g.$,{ref:B,type:"default",block:!0,disabled:A,loading:A,className:"justify-start h-[34px]",icon:(0,a.jsx)("div",{children:Q&&null!=(b=null==C?void 0:C(Q))?b:I}),iconRight:(0,a.jsx)("span",{className:"grow flex justify-end",children:(0,a.jsx)(s.A,{})}),children:null!=(y=Q&&Q.name)?y:_})}),(0,a.jsx)(h.hl,{className:"p-0 !w-72",side:"bottom",align:"center",style:{width:null==(n=B.current)?void 0:n.offsetWidth},children:(0,a.jsxs)(p.uB,{children:[(0,a.jsx)(p.G7,{placeholder:"Search for a project"}),(0,a.jsxs)(p.oI,{className:"!max-h-[170px]",children:[(0,a.jsx)(p.xL,{children:"No results found."}),(0,a.jsxs)(p.L$,{children:[v.map((e,t)=>{var n;return(0,a.jsxs)(p.h_,{value:"".concat(e.name.replaceAll('"',""),"-").concat(t),className:"flex gap-2 items-center",onSelect:()=>{e.id&&q(e.id),E(!1)},children:[(0,a.jsx)("div",{children:null!=(n=null==C?void 0:C(e))?n:I}),(0,a.jsx)("span",{className:"truncate",title:e.name,children:e.name})]},e.id)}),0===v.length&&(0,a.jsx)(p.xL,{children:"No results found."})]}),"GitHub"===F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.fx,{}),(0,a.jsx)(p.L$,{children:(0,a.jsxs)(p.h_,{className:"flex gap-2 items-center cursor-pointer",onSelect:()=>(0,m.Fd)("install"),children:[(0,a.jsx)(r.A,{size:16}),"Add GitHub Repositories"]})})]})]})]})})]})]})]})]}),(0,a.jsxs)("div",{className:"flex w-full justify-end gap-2",children:[void 0!==k&&(0,a.jsx)(g.$,{size:"medium",type:"default",onClick:()=>{k()},children:"Skip"}),(0,a.jsx)(g.$,{size:"medium",className:"self-end",onClick:function(){return(null==Q?void 0:Q.id)?(null==J?void 0:J.ref)?Z.has(null!=K?K:"")?o.oR.error("Unable to connect to ".concat(Q.name,": Selected repository already has an installed connection to a project")):void w({organizationIntegrationId:j,connection:{foreign_project_id:null==Q?void 0:Q.id,supabase_project_ref:null==J?void 0:J.ref,integration_id:"0",metadata:{...Q}},orgSlug:null==$?void 0:$.slug,new:{installation_id:Q.installation_id,project_ref:J.ref,repository_id:Number(Q.id)}}):console.error("No Supabase project ref set"):console.error("No Foreign project ID set")},loading:H,disabled:A||z||H||!J||!Q,"data-sentry-element":"Button","data-sentry-source-file":"ProjectLinker.tsx",children:"Connect project"})]})]})}},77054:(e,t,n)=>{n.d(t,{Z:()=>a});let a={integrationsListWithOrg:e=>["organizations",e,"integrations"],integrationsList:()=>["organizations","integrations"],vercelProjectList:e=>["organizations",e,"vercel-projects"],vercelConnectionsList:e=>["organizations",e,"vercel-connections"],githubBranch:(e,t,n,a)=>["organizations",e,"branches",t,n,a],githubAuthorization:()=>["github-authorization"],githubRepositoriesList:()=>["github-repositories"],githubBranchesList:e=>["github-branches",e],githubConnectionsList:e=>["organizations",e,"github-connections"],vercelRedirect:e=>["vercel-redirect",e]}},81706:(e,t,n)=>{n.d(t,{LT:()=>H,MJ:()=>C,Q7:()=>_,Tt:()=>S});var a=n(80263),s=n(53434),r=n.n(s),i=n(39413),l=n.n(i),o=n(53239),d=n(57947),c=n(79319),u=n(34262),m=n(58897),x=n(48385),f=n(92637),h=n(66452),g=n(73892),p=n(63320),b=n.n(p),y=n(2),j=n(38952),v=n(16601);let N=e=>{let{type:t,className:n}=e;switch(t){case"GitHub":return(0,a.jsx)(f.A,{strokeWidth:2,size:14});case"Vercel":return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 512 512",className:(0,y.cn)("w-3.5",n),children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M256,48,496,464H16Z"})});case"Supabase":return(0,a.jsx)("img",{src:"".concat(m.o2,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-3.5"});default:return(0,a.jsx)(a.Fragment,{})}},w=e=>{let{src:t}=e;return(0,a.jsx)("div",{className:"relative border shadow-lg w-8 h-8 rounded-full overflow-hidden","data-sentry-component":"Avatar","data-sentry-source-file":"IntegrationPanels.tsx",children:(0,a.jsx)(l(),{src:t||"",width:30,height:30,layout:"fill",alt:"avatar",className:"relative","data-sentry-element":"Image","data-sentry-source-file":"IntegrationPanels.tsx"})})},S=(0,o.forwardRef)((e,t)=>{var n,s,i,l,o;let{integration:d,disabled:c,...u}=e;return(0,a.jsxs)("li",{ref:t,className:"bg-surface-100 border shadow-sm flex justify-between items-center px-8 py-4 rounded-lg",...u,children:[(0,a.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,a.jsx)("div",{className:"flex gap-3 items-center",children:(0,a.jsxs)("div",{className:"flex -space-x-1",children:[(0,a.jsx)(()=>(0,a.jsx)("div",{className:"bg-black text-white w-8 h-8 rounded flex items-center justify-center","data-sentry-component":"IntegrationIconBlock","data-sentry-source-file":"IntegrationPanels.tsx",children:(0,a.jsx)(N,{type:d.integration.name,"data-sentry-element":"HandleIcon","data-sentry-source-file":"IntegrationPanels.tsx"})}),{}),(0,a.jsx)(w,{src:null==d||null==(n=d.metadata)?void 0:n.account.avatar})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-foreground text-sm font-medium",children:(null==(s=d.metadata)?void 0:s.account.name)||void 0!==d.metadata&&"gitHubConnectionOwner"in d.metadata&&(null==(i=d.metadata)?void 0:i.gitHubConnectionOwner)}),(0,a.jsx)(j.E,{className:"capitalize",children:null==(l=d.metadata)?void 0:l.account.type})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,a.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Created ",r()(d.inserted_at).fromNow()]}),(0,a.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Added by ",null==d||null==(o=d.added_by)?void 0:o.primary_email]})]})]})]}),(0,a.jsx)(v.$,{asChild:!0,disabled:c,type:"default",iconRight:(0,a.jsx)(h.A,{}),children:c?(0,a.jsx)("p",{children:"Manage"}):(0,a.jsx)(b(),{href:(0,x.U)(d),target:"_blank",rel:"noopener noreferrer",children:"Manage"})})]},d.id)}),H=(0,o.forwardRef)((e,t)=>{var n,s,i,l,o;let{connection:d,type:c,actions:x,showNode:f=!0,orientation:h="horizontal",className:p,...b}=e,{data:j}=(0,u.el)(),v=null==j?void 0:j.find(e=>e.ref===d.supabase_project_ref);return(0,a.jsxs)("li",{ref:t,...b,className:(0,y.cn)(f&&"pl-8 ml-6 border-l border-muted","relative"),children:[f&&(0,a.jsx)("div",{className:"absolute w-8 rounded-bl-full border-b border-l border-muted h-10 -left-px"}),(0,a.jsxs)("div",{className:(0,y.cn)("horizontal"===h?"flex items-center justify-between gap-2":"flex flex-col gap-3","bg-surface-100 border shadow-sm px-6 py-4 rounded-lg",p),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex-shrink-0 flex gap-x-2 items-center max-w-40 ",children:[(0,a.jsx)(N,{type:"Supabase"}),(0,a.jsx)("span",{title:null==v?void 0:v.name,className:"text-sm truncate",children:null==v?void 0:v.name})]}),(0,a.jsx)(g.A,{size:14,className:"flex-shrink-0 text-foreground-lighter",strokeWidth:1.5}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 flex gap-2 items-center",children:[(null==d||null==(n=d.metadata)?void 0:n.framework)?(0,a.jsx)("img",{src:"".concat(m.o2,"/img/icons/frameworks/").concat(d.metadata.framework,".svg"),width:21,height:21,alt:"icon"}):(0,a.jsx)("div",{className:"bg-black text-white w-4 h-4 rounded flex items-center justify-center",children:(0,a.jsx)(N,{type:c,className:"!w-2.5"})}),"GitHub"===c?(0,a.jsx)("a",{title:d.metadata.name,href:"https://github.com/".concat(null==(s=d.metadata)?void 0:s.name),className:"text-sm truncate",target:"_blank",rel:"noreferrer",children:null==(i=d.metadata)?void 0:i.name}):(0,a.jsx)("span",{title:d.metadata.name,className:"text-sm truncate",children:null==(l=d.metadata)?void 0:l.name})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,a.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Connected ",r()(null==d?void 0:d.inserted_at).fromNow()]}),(0,a.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Added by ",null==d||null==(o=d.added_by)?void 0:o.primary_email]})]})]}),(0,a.jsx)("div",{className:"flex-shrink-0",children:x})]})]},d.id)}),I=(0,o.forwardRef)((e,t)=>{let{connection:n,type:s,...i}=e,{data:l}=(0,u.el)(),o=null==l?void 0:l.find(e=>e.ref===n.supabase_project_ref);return(0,a.jsxs)("li",{ref:t,...i,className:(0,y.cn)("bg-surface-100 border shadow-sm flex justify-between items-center px-8 py-4 rounded-lg"),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(N,{type:"Supabase"}),(0,a.jsx)("span",{className:"text-sm",children:null==o?void 0:o.name}),(0,a.jsx)(g.A,{size:14,className:"text-foreground-lighter",strokeWidth:1.5}),(0,a.jsx)(N,{type:s}),(0,a.jsx)("span",{className:"text-sm",children:n.metadata.name})]}),(0,a.jsxs)("span",{className:"text-foreground-lighter text-xs",children:["Connected ",r()(n.inserted_at).fromNow()]})]}),(0,a.jsx)(v.$,{type:"default",children:"Connect"})]},n.id)}),C=(0,o.forwardRef)((e,t)=>{let{className:n,showNode:s=!0,onClick:r,disabled:i,...l}=e;return(0,a.jsxs)("div",{ref:t,...l,className:(0,y.cn)(s&&"ml-6 pl-8 mt-4 border-l","relative pb-2","last:border-l-transparent",n),children:[s&&(0,a.jsx)("div",{className:"absolute w-8 rounded-bl-full border-b border-l border-muted h-14 -top-4 -left-px"}),(0,a.jsx)("div",{className:(0,y.cn)("w-full","border border-dashed bg-surface-100 border-overlay","flex h-20 px-10 rounded-lg justify-center items-center"),children:(0,a.jsx)(c.G,{type:"default",disabled:i,onClick:()=>r(),tooltip:{content:{side:"bottom",text:i?"Additional permissions required to add connection":void 0}},children:"Add new project connection"})})]})}),_=(0,o.forwardRef)((e,t)=>{let{className:n,markdown:s="",showNode:r=!0,...i}=e;return(0,a.jsxs)("div",{...i,ref:t,className:(0,y.cn)(r&&"border-l border-muted ml-6 pl-8","py-4 prose text-sm",n),children:[i.title&&(0,a.jsx)("h5",{className:"text-foreground",children:i.title}),(0,a.jsx)(d.o,{content:s})]})});S.displayName="IntegrationInstallation",H.displayName="IntegrationConnection",_.displayName="IntegrationConnectionHeader",C.displayName="EmptyIntegrationConnection",I.displayName="IntegrationConnectionOption"},85669:(e,t,n)=>{n.d(t,{C5:()=>j,MJ:()=>b,Rr:()=>y,eI:()=>g,lR:()=>p,lV:()=>u,zB:()=>x});var a=n(80263),s=n(38694),r=n(53239),i=n(87494),l=n(2),o=n(27863),d=n(88712),c=n(37055);let u=i.Op,m=r.createContext({}),x=e=>{let{...t}=e;return(0,a.jsx)(m.Provider,{value:{name:t.name},"data-sentry-element":"unknown","data-sentry-component":"FormField","data-sentry-source-file":"form.tsx",children:(0,a.jsx)(i.xI,{...t,"data-sentry-element":"Controller","data-sentry-source-file":"form.tsx"})})},f=()=>{let e=r.useContext(m),t=r.useContext(h),{getFieldState:n,formState:a}=(0,i.xW)(),s=n(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...s}},h=r.createContext({}),g=r.forwardRef((e,t)=>{let{asChild:n,...i}=e,l=r.useId(),o=n?s.DX:"div";return(0,a.jsx)(h.Provider,{value:{id:l},children:(0,a.jsx)(o,{ref:t,...i})})});g.displayName="FormItem";let p=r.forwardRef((e,t)=>{let{className:n,...s}=e,{error:r,formItemId:i}=f();return(0,a.jsx)(o.J,{ref:t,className:(0,l.cn)("text-foreground-light","transition-colors",r&&"!text-destructive",n,"leading-normal"),htmlFor:i,...s})});p.displayName="FormLabel";let b=r.forwardRef((e,t)=>{let{...n}=e,{error:r,formItemId:i,formDescriptionId:l,formMessageId:o}=f();return(0,a.jsx)(s.DX,{ref:t,id:i,"aria-describedby":r?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!r,...n})});b.displayName="FormControl";let y=r.forwardRef((e,t)=>{let{className:n,...s}=e,{formDescriptionId:r}=f();return(0,a.jsx)("div",{ref:t,id:r,className:(0,l.cn)("text-sm text-foreground-light",n),...s})});y.displayName="FormDescription";let j=r.forwardRef((e,t)=>{let{className:n,children:s,...r}=e,{error:i,formMessageId:o}=f(),u=i?String(null==i?void 0:i.message):s;return(0,a.jsx)(d.N,{initial:!1,children:u?(0,a.jsx)(c.P.div,{initial:{opacity:0,y:-5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-5,height:0},transition:{duration:.15,ease:"easeInOut"},children:(0,a.jsx)("p",{ref:t,id:o,className:(0,l.cn)("text-sm text-destructive",n),...r,children:u})},o):null})});j.displayName="FormMessage"},95720:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(80263),s=n(97403),r=n(96708),i=n(53239),l=n(92589);let o=e=>{let{type:t,time:n,setTime:o,setStartTime:d,setEndTime:c,startTime:u,endTime:m,startDate:x,endDate:f}=e,[h,g]=(0,i.useState)(!1);function p(){1===n.HH.length&&(n.HH="0"+n.HH),1===n.mm.length&&(n.mm="0"+n.mm),1===n.ss.length&&(n.ss="0"+n.ss),n.HH||(n.HH="00"),n.mm||(n.mm="00"),n.ss||(n.ss="00");let e=!1,a=!1;(0,s.default)(new Date(x),"dd/mm/yyyy")==(0,s.default)(new Date(f),"dd/mm/yyyy")&&("start"===t&&(n.HH&&Number(n.HH)>Number(m.HH)&&(m.HH=n.HH,e=!0),n.HH&&Number(n.HH)>=Number(m.HH)&&n.mm&&Number(n.mm)>Number(m.mm)&&(m.mm=n.mm,e=!0),n.HH&&Number(n.HH)>=Number(m.HH)&&n.mm&&Number(n.mm)>=Number(m.mm)&&n.ss&&Number(n.ss)>Number(m.ss)&&(m.ss=n.ss,e=!0)),"end"===t&&(n.HH&&Number(n.HH)<Number(u.HH)&&(u.HH=n.HH,a=!0),n.HH&&Number(n.HH)<=Number(u.HH)&&n.mm&&Number(n.mm)<Number(u.mm)&&(u.mm=n.mm,a=!0),n.HH&&Number(n.HH)<=Number(u.HH)&&n.mm&&Number(n.mm)<=Number(u.mm)&&n.ss&&Number(n.ss)<Number(u.ss)&&(u.ss=n.ss,a=!0))),o({...n}),e&&c({...m}),a&&d({...u}),g(!1)}function b(e,t){let a={HH:n.HH,mm:n.mm,ss:n.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}a[t]=e,o({...a})}}let y=e=>{e.target.select(),g(!0)};function j(e){e.preventDefault(),e.stopPropagation(),navigator.clipboard.readText().then(e=>{let n=null;if(isNaN((n=new Date((0,l.l8)(e)?(0,l.RT)(e):Number(e))).getTime()))return void console.warn("Invalid date or timestamp in clipboard");n&&("start"===t&&n.setSeconds(n.getSeconds()-1),"end"===t&&n.setSeconds(n.getSeconds()+1),o({HH:n.getHours().toString().padStart(2,"0"),mm:n.getMinutes().toString().padStart(2,"0"),ss:n.getSeconds().toString().padStart(2,"0")}))})}return(0,i.useEffect)(()=>{p()},[x,f]),(0,i.useEffect)(()=>(document.addEventListener("paste",j),()=>document.removeEventListener("paste",j)),[x,f]),(0,a.jsxs)("div",{className:"\n        flex h-7 items-center justify-center\n        gap-0 rounded border border-strong bg-surface-100 text-xs text-foreground-light\n        ".concat(h&&" border-stronger outline outline-2 outline-border","\n    "),"data-sentry-component":"TimeSplitInput","data-sentry-source-file":"TimeSplitInput.tsx",children:[(0,a.jsx)("div",{className:"mr-1 text-foreground-lighter",children:(0,a.jsx)(r.A,{size:14,strokeWidth:1.5,"data-sentry-element":"Clock","data-sentry-source-file":"TimeSplitInput.tsx"})}),(0,a.jsx)("input",{type:"text",onBlur:()=>p(),onFocus:y,pattern:"[0-23]*",placeholder:"00",onChange:e=>b(e.target.value,"HH"),"aria-label":"Hours",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.HH}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,a.jsx)("input",{type:"text",onBlur:()=>p(),onFocus:y,pattern:"[0-12]*",placeholder:"00",onChange:e=>b(e.target.value,"mm"),"aria-label":"Minutes",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.mm}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,a.jsx)("input",{type:"text",onBlur:()=>p(),onFocus:y,pattern:"[0-59]*",placeholder:"00",onChange:e=>b(e.target.value,"ss"),"aria-label":"Seconds",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:n.ss})]})}},97009:(e,t,n)=>{n.d(t,{A:()=>_});var a=n(80263),s=n(53239),r=n(73969),i=n(65039),l=n(57947),o=n(50720),d=n(32144),c=n(80251),u=n(3807),m=n(77054);async function x(e){let{connection:t}=e,{data:n,error:a}=await (0,u.bE)("/platform/integrations/github/connections",{body:t});return a&&(0,u.H4)(a),n}let f=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,d.jE)();return(0,c.n)(e=>x(e),{async onSuccess(t,n,s){await Promise.all([a.invalidateQueries(m.Z.githubConnectionsList(n.organizationId))]),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?r.oR.error("Failed to create Github connection: ".concat(e.message)):t(e,n,a)},...n})};var h=n(32280),g=n(19528),p=n(56947);async function b(e){let{data:t,error:n}=await (0,u.Jt)("/platform/integrations/github/repositories",{signal:e});return n&&(0,u.H4)(n),t.repositories}let y=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.I)(m.Z.githubRepositoriesList(),e=>{let{signal:t}=e;return b(t)},{enabled:e,staleTime:0,...t})};var j=n(34262),v=n(25718),N=n(49446),w=n(86303),S=n(59768),H=n(35091),I=n(16601);let C=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 96",className:"w-6",children:(0,a.jsx)("path",{fill:"#ffffff",fillRule:"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",clipRule:"evenodd"})}),_=e=>{let{projectRef:t}=e,n=(0,v.a)(),d=(0,S.bZ)(),c=d.githubConnectionsOpen,{data:u,isLoading:m}=(0,o.m)({enabled:c}),{data:x,isLoading:p}=y({enabled:c&&!!u}),{data:b,isLoading:_}=(0,j.el)({enabled:c}),k=(0,s.useMemo)(()=>{var e;return null!=(e=null==b?void 0:b.filter(e=>e.organization_id===(null==n?void 0:n.id)).map(e=>({name:e.name,ref:e.ref})))?e:w.Oj},[null==n?void 0:n.id,b]),A=(0,s.useMemo)(()=>{var e;return null!=(e=null==x?void 0:x.map(e=>({id:e.id.toString(),name:e.name,installation_id:e.installation_id})))?e:w.Oj},[x]),{data:z}=(0,g.O)({organizationId:null==n?void 0:n.id},{enabled:c}),{mutate:P,isLoading:L}=f({onSuccess(){r.oR.success("Successfully linked project to repository!"),d.setGithubConnectionsOpen(!1)}}),{mutateAsync:O}=(0,h.L)(),F=async e=>{if(!(null==n?void 0:n.id))throw Error("No organization id");if(!e.new)throw Error("No new connection");let a=null==z?void 0:z.find(e=>e.project.ref===t);if(a)try{await O({organizationId:n.id,connectionId:a.id})}catch(e){}P({organizationId:n.id,connection:e.new})};return(0,a.jsx)(H.Ay,{header:"Add GitHub repository",size:"large",visible:c,hideFooter:!0,onCancel:()=>d.setGithubConnectionsOpen(!1),"data-sentry-element":"SidePanel","data-sentry-component":"SidePanelGitHubRepoLinker","data-sentry-source-file":"SidePanelGitHubRepoLinker.tsx",children:(0,a.jsx)("div",{className:"py-10 flex flex-col gap-6 bg-studio h-full",children:(0,a.jsxs)(H.Ay.Content,{className:"flex flex-col gap-4","data-sentry-element":"unknown","data-sentry-source-file":"SidePanelGitHubRepoLinker.tsx",children:[(0,a.jsx)(l.o,{content:"\n### Choose repository to connect to\n\nYour access to repositories depends on your GitHub x Supabase integration setup. You can access repositories that you own, those where you're a collaborator, and those available through organizations you're a member of. Access is determined by both your personal installation and any installations made by the organizations you belong to.\n          ","data-sentry-element":"Markdown","data-sentry-source-file":"SidePanelGitHubRepoLinker.tsx"}),null===u?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center mt-8 relative border rounded-lg p-12 bg shadow px-20s",children:[(0,a.jsx)("p",{className:"text-sm text-center",children:"Connect your Supabase projects with your GitHub repositories"}),(0,a.jsx)("p",{className:"text-sm text-center text-foreground-light",children:"Authorize with GitHub to retrieve your GitHub repositories"}),(0,a.jsx)(I.$,{className:"w-min mt-3",onClick:()=>{(0,N.Fd)("authorize")},children:"Authorize GitHub"})]}):(0,a.jsx)(i.A,{defaultSupabaseProjectRef:t,foreignProjects:A,supabaseProjects:k,onCreateConnections:F,isLoading:L,loadingForeignProjects:p,loadingSupabaseProjects:_,integrationIcon:C,choosePrompt:"Choose GitHub Repo",showNoEntitiesState:!1,mode:"GitHub"})]})})})}}}]);