!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="606b0958-6a03-4302-afb3-bfd732aa3de6",e._sentryDebugIdIdentifier="sentry-dbid-606b0958-6a03-4302-afb3-bfd732aa3de6")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7883:(e,t,n)=>{n.d(t,{I:()=>s,y:()=>a});let s=[{id:"curl",label:"cURL",language:"bash",code:(e,t,n)=>"curl -L -X POST '".concat(e,"' \\\n  -H 'Authorization: Bearer ").concat(n,"' \\\n  -H 'Content-Type: application/json' \\\n  --data '{\"name\":\"Functions\"}'")},{id:"supabase-js",label:"JavaScript",language:"js",hideLineNumbers:!0,code:(e,t)=>"import { createClient } from '@supabase/supabase-js'\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_ANON_KEY)\nconst { data, error } = await supabase.functions.invoke('".concat(t,"', {\n  body: { name: 'Functions' },\n})")},{id:"swift",label:"Swift",language:"ts",hideLineNumbers:!0,code:(e,t)=>'struct Response: Decodable {\n  // Expected response definition\n}\n\nlet response: Response = try await supabase.functions\n  .invoke(\n    "'.concat(t,'",\n    options: FunctionInvokeOptions(\n      body: ["name": "Functions"]\n    )\n  )')},{id:"flutter",label:"Flutter",language:"dart",hideLineNumbers:!0,code:(e,t)=>"final res = await supabase.functions.invoke('".concat(t,"', body: {'name': 'Functions'});\nfinal data = res.data;")},{id:"python",label:"Python",language:"python",hideLineNumbers:!0,code:(e,t)=>'response = supabase.functions.invoke(\n    "'.concat(t,'",\n    invoke_options={"body": {"name": "Functions"}}\n)')}],a=["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"]},13990:(e,t,n)=>{n.d(t,{j:()=>i});var s=n(56947),a=n(3807),r=n(58897),l=n(38356);async function o(e,t){let{projectRef:n,slug:s}=e;if(!n)throw Error("projectRef is required");if(!s)throw Error("slug is required");try{let e=await (0,a.We)({"Content-Type":"application/json"}),l=await (0,a.x8)("".concat(r.o2,"/api/edge-functions/body"),{method:"POST",body:JSON.stringify({projectRef:n,slug:s}),headers:e,credentials:"include",signal:t});if(!l.ok){let{error:e}=await l.json();(0,a.H4)("object"==typeof e?e:"string"==typeof e?{message:e}:{message:"Unknown error"})}let{files:o}=await l.json();return o}catch(e){throw console.error("Failed to parse edge function code:",e),Error("Failed to parse function code. The file may be corrupted or in an invalid format.")}}let i=function(e){let{projectRef:t,slug:n}=e,{enabled:a=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.I)(l.f.body(t,n),e=>{let{signal:s}=e;return o({projectRef:t,slug:n},s)},{enabled:r.pe&&a&&void 0!==t&&void 0!==n,...i})}},40459:(e,t,n)=>{n.d(t,{A:()=>ei});var s=n(80263),a=n(60045),r=n(10822),l=n(77207),o=n(25660),i=n(52385),c=n(53239),d=n(73969),u=n(99715),f=n(89044),x=n(22775),m=n(32981),p=n(97318),h=n(23278),y=n(11352),j=n(87494),g=n(39353),v=n(49440),b=n(74493),N=n(42202),w=n(1498),S=n(80251),k=n(3807),E=n(58897);async function F(e){let t,{url:n,method:s,body:a,headers:r}=e,l=await (0,k.We)(),o=await (0,k.x8)("".concat(E.o2,"/api/edge-functions/test"),{method:"POST",headers:{...l,"Content-Type":"application/json"},body:JSON.stringify({url:n,method:s,body:a,headers:r})});try{t=await o.json()}catch(e){}if(!o.ok){var i;throw Error((null==(i=t.error)?void 0:i.message)||"Failed to test edge function",{cause:{status:t.status}})}return t}let C=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,S.n)(e=>F(e),{async onSuccess(t,n,s){await (null==e?void 0:e(t,n,s))},async onError(e,n,s){void 0===t?d.oR.error("Failed to test edge function: ".concat(e.message)):t(e,n,s)},...n})};var T=n(36567),A=n(25718),R=n(90206),P=n(28128),z=n(29127),_=n(27863),L=n(16601),M=n(85669),I=n(49189),D=n(76828),O=n(79210),B=n(79295),H=n(37244),U=n(38952),J=n(93479),q=n(78873),G=n(27787),V=n(7883);let W=g.Ik({method:g.k5(V.y),body:g.Yj().optional().transform(e=>e||"{}"),headers:g.YO(g.Ik({key:g.Yj(),value:g.Yj()})),queryParams:g.YO(g.Ik({key:g.Yj(),value:g.Yj()}))}),Y=e=>{var t,n,a,r;let{visible:l,onClose:i}=e,d=(0,A.a)(),{ref:u,functionSlug:x}=(0,f.g)(),g=(0,z.Qj)(),[S,k]=(0,c.useState)(null),[F,Y]=(0,c.useState)(null),{data:X}=(0,N.y)({projectRef:u}),{data:$}=(0,w.Gm)({projectRef:u}),{data:Z}=(0,b.L)({enabled:E.pe}),{serviceKey:K}=(0,w.d6)($),{mutate:Q}=(0,T.h)(),{mutate:ee,isLoading:et}=C({onSuccess:e=>k(e),onError:e=>{if(Y(e instanceof Error?e.message:"An unknown error occurred"),e instanceof Error){var t;k({status:(null==(t=e.cause)?void 0:t.status)||500,headers:{},body:""})}}}),en=null!=(a=null==$||null==(t=$.app_config)?void 0:t.protocol)?a:"https",es=null!=(r=null==$||null==(n=$.app_config)?void 0:n.endpoint)?r:"",ea="".concat(en,"://").concat(es,"/functions/v1/").concat(x),er=(0,j.mN)({resolver:(0,m.u)(W),defaultValues:{method:"POST",body:'{ "name": "Functions" }',headers:[{key:"",value:""}],queryParams:[{key:"",value:""}]}}),{method:el}=er.watch(),{fields:eo,append:ei,remove:ec}=(0,j.jz)({control:er.control,name:"headers"}),{fields:ed,append:eu,remove:ef}=(0,j.jz)({control:er.control,name:"queryParams"}),ex=e=>{"headers"===e?ei({key:"",value:""}):eu({key:"",value:""})},em=(e,t)=>{"headers"===t?ec(e):ef(e)},ep=async e=>{let t;Y(null),k(null);try{JSON.parse(e.body)}catch(e){er.setError("body",{message:"Must be a valid JSON string"});return}let n=g().role;if(void 0!==u&&(null==X?void 0:X.jwt_secret)!==void 0&&void 0!==n&&"postgrest"===n.type)try{let e=await (0,P._p)(u,X.jwt_secret,n);t="Bearer "+e}catch(e){console.error("Failed to generate JWT:",{error:e.message,roleDetails:n})}let s={};eo.forEach(e=>{let{key:t,value:n}=e;t&&n&&(s[t]=n)});let a=ed.filter(e=>{let{key:t,value:n}=e;return t&&n}).map(e=>{let{key:t,value:n}=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))}).join("&");ee({url:a?"".concat(ea,"?").concat(a):ea,method:e.method,body:e.body,headers:{...Z&&{Authorization:"Bearer ".concat(Z)},"x-test-authorization":null!=t?t:"Bearer ".concat(null==K?void 0:K.api_key),"Content-Type":"application/json",...s}})},eh=(e,t)=>(0,s.jsxs)("div",{className:"space-y-2","data-sentry-component":"renderKeyValuePairs","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(_.J,{className:"text-foreground text-sm","data-sentry-element":"Label","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:t}),(0,s.jsxs)(L.$,{type:"default",size:"tiny",icon:(0,s.jsx)(p.A,{size:14}),onClick:()=>ex(e),"data-sentry-element":"Button","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:["Add ",t]})]}),(0,s.jsx)("div",{className:"border rounded-md bg-surface-200",children:("headers"===e?eo:ed).map((t,n)=>(0,s.jsxs)("div",{className:"grid grid-cols-[1fr,1fr,32px] border-b last:border-b-0",children:[(0,s.jsx)(M.zB,{control:er.control,name:"".concat(e,".").concat(n,".key"),render:e=>{let{field:t}=e;return(0,s.jsx)(M.MJ,{children:(0,s.jsx)(I.p,{...t,size:"tiny",placeholder:"Enter key...",disabled:et,className:"h-auto py-2 font-mono rounded-none shadow-none bg-transparent border-l-0 border-r-1 border-t-0 border-b-0 border-border"})})}}),(0,s.jsx)(M.zB,{control:er.control,name:"".concat(e,".").concat(n,".value"),render:e=>{let{field:t}=e;return(0,s.jsx)(M.MJ,{children:(0,s.jsx)(I.p,{...t,size:"tiny",placeholder:"Enter value...",disabled:et,className:"h-auto py-2 font-mono rounded-none shadow-none bg-transparent border-none"})})}}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:("headers"===e?eo:ed).length>1&&(0,s.jsx)(L.$,{type:"text",size:"tiny",icon:(0,s.jsx)(h.A,{strokeWidth:1.5,size:14}),className:"w-6 h-6",onClick:()=>em(n,e)})})]},t.id))})]});return(0,s.jsx)(D.cj,{open:l,onOpenChange:i,"data-sentry-element":"Sheet","data-sentry-component":"EdgeFunctionTesterSheet","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:(0,s.jsxs)(D.h,{size:"default",className:"flex flex-col gap-0 p-0","data-sentry-element":"SheetContent","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:[(0,s.jsx)(D.Fm,{"data-sentry-element":"SheetHeader","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:(0,s.jsxs)(D.qp,{"data-sentry-element":"SheetTitle","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:["Test ",x]})}),(0,s.jsx)(M.lV,{...er,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:(0,s.jsxs)("form",{onSubmit:er.handleSubmit(ep),className:"flex-1 overflow-y-auto flex flex-col",children:[(0,s.jsxs)(O.HK,{direction:"vertical","data-sentry-element":"ResizablePanelGroup","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:[(0,s.jsx)(O.wV,{"data-sentry-element":"ResizablePanel","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 p-5 h-full overflow-y-auto",children:[(0,s.jsx)(M.zB,{control:er.control,name:"method",render:e=>{let{field:t}=e;return(0,s.jsx)(G.M,{layout:"vertical",label:"HTTP Method",children:(0,s.jsx)(M.MJ,{children:(0,s.jsxs)(B.l6,{value:t.value,onValueChange:t.onChange,disabled:et,children:[(0,s.jsx)(B.bq,{className:"w-full",children:(0,s.jsx)(B.yv,{placeholder:"Select method"})}),(0,s.jsx)(B.gC,{children:V.y.map(e=>(0,s.jsx)(B.eb,{value:e,children:e},e))})]})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx"}),"GET"!==el&&(0,s.jsx)(M.zB,{control:er.control,name:"body",render:e=>{let{field:t}=e;return(0,s.jsx)(G.M,{layout:"vertical",label:"Request Body",children:(0,s.jsx)(M.MJ,{children:(0,s.jsx)(H.f,{...t,placeholder:"Request body (JSON)",rows:3,disabled:et,className:"font-mono text-xs"})})})}}),eh("headers","Headers"),eh("queryParams","Query Parameters")]})}),(0,s.jsx)(O.WM,{withHandle:!0,"data-sentry-element":"ResizableHandle","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx"}),(0,s.jsx)(O.wV,{defaultSize:41,minSize:41,maxSize:83,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:(0,s.jsx)("div",{className:"h-full bg-surface-100 border-t flex-1 flex flex-col overflow-hidden",children:S?(0,s.jsx)("div",{className:"h-full bg-surface-100 flex flex-col overflow-hidden",children:F?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center p-5 text-sm pb-3",children:["Function responded with",(0,s.jsx)(U.E,{variant:S.status>=400?"destructive":"success",children:S.status})]}),(0,s.jsx)("p",{className:"px-5 text-sm text-foreground-light",children:F})]}):(0,s.jsxs)(J.tU,{defaultValue:"body",className:"h-full flex-1 flex flex-col overflow-hidden",children:[(0,s.jsxs)(J.j7,{className:"gap-4 px-5 pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsx)(J.Xi,{className:"text-sm",value:"body",children:"Body"}),(0,s.jsx)(J.Xi,{className:"text-sm",value:"headers",children:"Headers"})]}),(0,s.jsx)(U.E,{variant:S.status>=400?"destructive":"success",className:"-translate-y-1",children:S.status})]}),(0,s.jsx)(J.av,{value:"body",className:"mt-0 flex-1 overflow-auto p-0",children:(0,s.jsx)(q.N,{language:"json",hideLineNumbers:!0,className:"rounded-md !border-none !px-4 !py-3 h-full",value:(0,R.G1)(S.body)})}),(0,s.jsx)(J.av,{value:"headers",className:"mt-0 flex-1 overflow-auto p-0",children:(0,s.jsx)(q.N,{language:"json",hideLineNumbers:!0,className:"rounded-md !border-none !px-4 !py-3 h-full",value:(0,R.G1)(JSON.stringify(S.headers,null,2))})})]})}):et?(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(y.A,{size:24,className:"text-foreground-muted animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Sending request..."})]}):(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(o.A,{size:24,className:"text-foreground-muted"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Send your first test request"})]})})})]}),(0,s.jsx)(D.XW,{className:"px-5 py-3 border-t","data-sentry-element":"SheetFooter","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.g,{portal:!1,"data-sentry-element":"RoleImpersonationPopover","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx"}),(0,s.jsx)(L.$,{type:"primary",htmlType:"submit",loading:et,disabled:et,onClick:()=>{var e;return Q({action:"edge_function_test_send_button_clicked",properties:{httpMethod:el},groups:{project:null!=u?u:"Unknown",organization:null!=(e=null==d?void 0:d.slug)?e:"Unknown"}})},"data-sentry-element":"Button","data-sentry-source-file":"EdgeFunctionTesterSheet.tsx",children:"Send Request"})]})})]})})]})})};var X=n(60479),$=n(28071),Z=n(67007),K=n(93274),Q=n(13990),ee=n(9113),et=n(65904),en=n(29730),es=n(10738),ea=n(16580),er=n(59168),el=n(88601),eo=n(47890);let ei=(0,en.r)(e=>{let{title:t,children:n}=e,m=(0,i.useRouter)(),{functionSlug:p,ref:h}=(0,f.g)(),y=(0,A.a)(),{mutate:j}=(0,T.h)(),g=(0,x.hx)(),{isLoading:v,can:b}=(0,et.hl)(a.aG.FUNCTIONS_READ,"*"),[N,w]=(0,c.useState)(!1),{data:S,error:k,isError:E}=(0,ee.F)({projectRef:h,slug:p}),{data:F=[],error:C}=(0,Q.j)({projectRef:h,slug:p}),R=(null==S?void 0:S.name)||"",P=[{label:"Edge Functions",href:"/project/".concat(h,"/functions")}],z=p?[{label:"Overview",href:"/project/".concat(h,"/functions/").concat(p)},{label:"Invocations",href:"/project/".concat(h,"/functions/").concat(p,"/invocations")},{label:"Logs",href:"/project/".concat(h,"/functions/").concat(p,"/logs")},{label:"Code",href:"/project/".concat(h,"/functions/").concat(p,"/code")},{label:"Details",href:"/project/".concat(h,"/functions/").concat(p,"/details")}]:[],_=async()=>{var e;if(C)return d.oR.error("Failed to retrieve edge function files");let t=new u.D7("application/zip"),n=new u.Vx(t,{bufferedWrite:!0});F.forEach(e=>{let t=e.name.split("/"),s=t.indexOf(null!=p?p:""),a=t.slice(s+1).join("/"),r=new Blob([e.content]);n.add(a,new u.nZ(r))});let s=URL.createObjectURL(await n.close()),a=document.createElement("a");a.href=s,a.setAttribute("download","".concat(p,".zip")),document.body.appendChild(a),a.click(),null==(e=a.parentNode)||e.removeChild(a)};return((0,c.useEffect)(()=>{let e=!1;return p&&E&&404===k.code&&!e&&((0,d.oR)("Edge function cannot be found in your project"),m.push("/project/".concat(h,"/functions"))),()=>{e=!0}},[E]),v||b)?(0,s.jsx)(eo.A,{"data-sentry-element":"EdgeFunctionsLayout","data-sentry-component":"EdgeFunctionDetailsLayout","data-sentry-source-file":"EdgeFunctionDetailsLayout.tsx",children:(0,s.jsxs)(X.M,{isCompact:!0,size:"full",title:p?R:"Edge Functions",breadcrumbs:P,navigationItems:z,primaryActions:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[g&&(0,s.jsx)($.A,{section:void 0!==p?["edge-functions",p]:["edge-functions"]}),(0,s.jsx)(Z.A,{href:"https://supabase.com/docs/guides/functions"}),(0,s.jsxs)(es.AM,{children:[(0,s.jsx)(es.Wv,{asChild:!0,children:(0,s.jsx)(L.$,{type:"default",icon:(0,s.jsx)(r.A,{}),children:"Download"})}),(0,s.jsxs)(es.hl,{align:"end",className:"p-0",children:[(0,s.jsxs)("div",{className:"p-3 flex flex-col gap-y-2",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:"Download via CLI"}),(0,s.jsx)(er.p,{copy:!0,showCopyOnHover:!0,readOnly:!0,containerClassName:"",className:"text-xs font-mono tracking-tighter",value:"supabase functions download ".concat(p)})]}),(0,s.jsx)(ea.w,{className:"!bg-border-overlay"}),(0,s.jsx)("div",{className:"py-2 px-1",children:(0,s.jsx)(L.$,{type:"text",className:"w-min hover:bg-transparent",icon:(0,s.jsx)(l.A,{}),onClick:_,children:"Download as ZIP"})})]})]}),!!p&&(0,s.jsx)(L.$,{type:"default",icon:(0,s.jsx)(o.A,{}),onClick:()=>{var e;w(!0),j({action:"edge_function_test_side_panel_opened",groups:{project:null!=h?h:"Unknown",organization:null!=(e=null==y?void 0:y.slug)?e:"Unknown"}})},children:"Test"})]}),"data-sentry-element":"PageLayout","data-sentry-source-file":"EdgeFunctionDetailsLayout.tsx",children:[n,(0,s.jsx)(Y,{visible:N,onClose:()=>w(!1),"data-sentry-element":"EdgeFunctionTesterSheet","data-sentry-source-file":"EdgeFunctionDetailsLayout.tsx"})]})}):(0,s.jsx)(el.A,{title:t||"Edge Functions",product:"Edge Functions",children:(0,s.jsx)(K.A,{isFullPage:!0,resourceText:"access your project's edge functions"})})})},42190:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(80263),a=n(63320),r=n.n(a),l=n(42677),o=n(38952),i=n(16601);let c=e=>{let{name:t="",isActive:n,isExternal:a,icon:c,rightIcon:d,url:u="",target:f="_self",onClick:x,textClassName:m="",hoverText:p="",label:h}=e,y=(0,s.jsx)(l.Ay.Item,{icon:c,rounded:!0,active:n,onClick:x,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,s.jsxs)("div",{title:p||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+m,children:[(0,s.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==h&&(0,s.jsx)(o.E,{variant:"warning",className:"py-0 px-1.5 capitalize",children:h})]}),d&&(0,s.jsx)("div",{children:d})]})});return u?a?(0,s.jsx)(i.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,s.jsx)(r(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,s.jsx)(r(),{href:u,className:"block",target:f,children:y}):y}},42677:(e,t,n)=>{n.d(t,{Ay:()=>f});var s=n(80263),a=n(53239),r=n(77690),l=n(2);function o(e){let{children:t,className:n,tag:a="div",style:r}=e;return(0,s.jsx)("".concat(a),{style:r,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}o.Title=function(e){let{className:t,level:n=1,children:a,style:r}=e;return(0,s.jsx)("h".concat(n),{style:r,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:a})},o.Text=function(e){let{className:t,children:n,style:a,type:r,disabled:l,mark:o,code:i,keyboard:c,underline:d,strikethrough:u,strong:f,small:x}=e;return i?(0,s.jsx)("code",{style:a,children:n}):o?(0,s.jsx)("mark",{style:a,children:n}):c?(0,s.jsx)("kbd",{style:a,children:n}):f?(0,s.jsx)("strong",{style:a,children:n}):(0,s.jsx)("span",{style:a,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:n})},o.Link=function(e){let{children:t,target:n="_blank",href:a,className:r,onClick:l,style:o}=e;return(0,s.jsx)("a",{onClick:l,href:a,target:n,rel:"noopener noreferrer",style:o,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let i=(0,a.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,s.jsx)(i.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},d=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:n,ulClassName:a,style:r,type:l="text"}=e;return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:n,style:r,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)(c,{type:l,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)("ul",{className:a,children:t})})})}u.Item=function(e){let{children:t,icon:n,active:a,rounded:o,onClick:i,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:f}=e,x=(0,r.A)("menu"),{type:m}=d(),p=[x.item.base];p.push(x.item.variants[m].base),a?p.push(x.item.variants[m].active):p.push(x.item.variants[m].normal);let h=[x.item.content.base];a?h.push(x.item.content.active):h.push(x.item.content.normal);let y=[x.item.icon.base];return a?y.push(x.item.icon.active):y.push(x.item.icon.normal),(0,s.jsxs)("li",{role:"menuitem",className:(0,l.cn)("outline-none",p),style:f,onClick:i,"aria-current":a?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[n&&(0,s.jsx)("div",{className:"".concat(y.join(" ")," min-w-fit"),children:n}),(0,s.jsx)("span",{className:h.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:n,title:a}=e,l=(0,r.A)("menu"),{type:o}=d();return(0,s.jsxs)("div",{className:[l.group.base,l.group.variants[o]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[n&&(0,s.jsx)("span",{className:l.group.icon,children:n}),(0,s.jsx)("span",{className:l.group.content,children:a}),t]})},u.Misc=function(e){let{children:t}=e;return(0,s.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)(o.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)("span",{children:t})})})};let f=u},47890:(e,t,n)=>{n.d(t,{A:()=>d});var s=n(80263),a=n(52385),r=n(89044),l=n(67144),o=n(29730),i=n(88601);let c=()=>{let{ref:e="default"}=(0,r.g)(),t=(0,a.useRouter)().pathname.split("/")[4];return(0,s.jsx)(l.l,{page:t,menu:[{title:"Manage",items:[{name:"Functions",key:"main",pages:["","[functionSlug]","new"],url:"/project/".concat(e,"/functions"),items:[]},{name:"Secrets",key:"secrets",url:"/project/".concat(e,"/functions/secrets"),items:[]}]}],"data-sentry-element":"ProductMenu","data-sentry-component":"EdgeFunctionsProductMenu","data-sentry-source-file":"EdgeFunctionsLayout.tsx"})},d=(0,o.r)(e=>{let{children:t}=e;return(0,s.jsx)(i.A,{title:"Edge Functions",product:"Edge Functions",productMenu:(0,s.jsx)(c,{}),isBlocking:!1,"data-sentry-element":"ProjectLayout","data-sentry-component":"EdgeFunctionsLayout","data-sentry-source-file":"EdgeFunctionsLayout.tsx",children:t})})},60479:(e,t,n)=>{n.d(t,{M:()=>w});var s=n(80263),a=n(63320),r=n.n(a),l=n(52385),o=n(89044),i=n(2),c=n(99673),d=n(16601),u=n(95207),f=n(48277),x=n(53239),m=n(38694),p=n(28894);let h=x.forwardRef((e,t)=>{let{...n}=e;return(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...n})});h.displayName="Breadcrumb";let y=x.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("ol",{ref:t,className:(0,i.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",n),...a})});y.displayName="BreadcrumbList";let j=x.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("li",{ref:t,className:(0,i.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",n),...a})});j.displayName="BreadcrumbItem";let g=x.forwardRef((e,t)=>{let{asChild:n,className:a,...r}=e,l=n?m.DX:"a";return(0,s.jsx)(l,{ref:t,className:(0,i.cn)("transition-colors underline lg:no-underline hover:text-foreground",a),...r})});g.displayName="BreadcrumbLink";let v=x.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("no-underline text-foreground",n),...a})});v.displayName="BreadcrumbPage";let b=e=>{let{children:t,className:n,...a}=e;return(0,s.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5",n),...a,"data-sentry-component":"BreadcrumbSeparator","data-sentry-source-file":"breadcrumb.tsx",children:null!=t?t:(0,s.jsx)(p.A,{})})};b.displayName="BreadcrumbSeparator";let N=e=>{let{title:t,subtitle:n,icon:a,breadcrumbs:l=[],primaryActions:c,secondaryActions:d,className:m,isCompact:p=!1}=e,{ref:N}=(0,o.g)(),w=p&&t?[...l,{label:t}]:l;return(0,s.jsxs)("div",{className:(0,i.cn)("space-y-4",m),"data-sentry-component":"PageHeader","data-sentry-source-file":"PageHeader.tsx",children:[(w.length>0||p&&(t||c||d))&&(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center gap-4",p?"justify-between":"mb-4"),children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:l.length>0?(0,s.jsx)(h,{className:(0,i.cn)("text-foreground-muted",p&&"text-base"),children:(0,s.jsxs)(y,{className:p?"text-base":"text-xs",children:[l.map((e,t)=>(0,s.jsxs)(x.Fragment,{children:[(0,s.jsx)(j,{children:e.element?e.element:e.href?(0,s.jsx)(g,{asChild:!0,className:"flex items-center gap-2",children:(0,s.jsxs)(r(),{href:N?e.href.replace("[ref]",N):e.href,children:[1===l.length&&!p&&(0,s.jsx)(f.A,{size:16,strokeWidth:1.5}),e.label]})}):(0,s.jsxs)(v,{className:"flex items-center gap-2",children:[1===l.length&&(0,s.jsx)(f.A,{size:16,strokeWidth:1.5}),e.label]})}),t<l.length-1&&(0,s.jsx)(b,{})]},e.label||"breadcrumb-".concat(t))),p&&t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{}),(0,s.jsx)(j,{children:(0,s.jsx)(v,{children:t})})]})]})}):p?t:null}),p&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:d}),c&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:c})]})]}),!p&&(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[a&&(0,s.jsx)("div",{className:"text-foreground-light",children:a}),(0,s.jsxs)("div",{className:"space-y-1",children:[t&&(0,s.jsx)(u.Dm,{children:t}),n&&(0,s.jsx)(u.dX,{className:"text-sm text-foreground-light",children:n})]})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:d}),c&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:c})]})]})]})},w=e=>{let{children:t,title:n,subtitle:a,icon:f,breadcrumbs:x=[],primaryActions:m,secondaryActions:p,navigationItems:h=[],className:y,size:j="default",isCompact:g=!1}=e,{ref:v}=(0,o.g)(),b=(0,l.useRouter)();return(0,s.jsxs)("div",{className:"w-full min-h-full flex flex-col items-stretch","data-sentry-component":"PageLayout","data-sentry-source-file":"PageLayout.tsx",children:[(0,s.jsxs)(u.eh,{size:j,className:(0,i.cn)("w-full mx-auto","full"===j&&(g?"max-w-none !px-6 border-b":"max-w-none p!x-8 border-b"),g?"pt-4":"pt-12",0===h.length&&"full"===j&&(g?"pb-4":"pb-8"),y),"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"PageLayout.tsx",children:[(n||a||m||p||x.length>0)&&(0,s.jsx)(N,{title:n,subtitle:a,icon:f,breadcrumbs:x,primaryActions:m,secondaryActions:p,isCompact:g}),h.length>0&&(0,s.jsx)(c.h,{className:(0,i.cn)(g?"mt-2":"mt-4","full"===j&&"border-none"),children:h.map(e=>(0,s.jsx)(c.O,{active:b.asPath.split("?")[0]===e.href,children:e.href?(0,s.jsxs)(r(),{href:e.href.includes("[ref]")&&v?e.href.replace("[ref]",v):e.href,className:(0,i.cn)("inline-flex items-center gap-2",b.asPath===e.href&&"text-foreground"),onClick:e.onClick,children:[e.icon&&(0,s.jsx)("span",{children:e.icon}),e.label]}):(0,s.jsxs)(d.$,{type:"link",onClick:e.onClick,className:(0,i.cn)(b.pathname===e.href&&"text-foreground font-medium"),children:[e.icon&&(0,s.jsx)("span",{className:"mr-2",children:e.icon}),e.label]})},e.label))})]}),t]})}},67144:(e,t,n)=>{n.d(t,{l:()=>o});var s=n(80263),a=n(42677),r=n(38952),l=n(42190);let o=e=>{let{page:t,menu:n}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,s.jsx)(a.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:n.map((e,o)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"my-6 space-y-8",children:(0,s.jsxs)("div",{className:"mx-3",children:[(0,s.jsx)(a.Ay.Group,{title:e.title?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,s.jsx)("span",{children:e.title}),e.isPreview&&(0,s.jsx)(r.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,s.jsx)("div",{children:e.items.map(e=>{let n=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,s.jsx)(l.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:n,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),o!==n.length-1&&(0,s.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},74493:(e,t,n)=>{n.d(t,{L:()=>o});var s=n(56947),a=n(67849),r=n(28167);async function l(){try{return await (0,r.iD)()}catch(e){return null}}let o=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.I)(a.Z.accessToken(),()=>l(),t)}},93274:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(80263),a=n(65325);let r=e=>{let{resourceText:t,isFullPage:n=!1}=e,r=()=>(0,s.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(a.A,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,s.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return n?(0,s.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,s.jsx)("div",{className:"w-[550px]",children:(0,s.jsx)(r,{})})}):(0,s.jsx)(r,{})}},95207:(e,t,n)=>{n.d(t,{BS:()=>o,Dm:()=>d,HJ:()=>g,Rf:()=>y,Uw:()=>c,Vw:()=>N,Xr:()=>b,aw:()=>p,bV:()=>l,cJ:()=>x,dX:()=>u,eh:()=>i,fh:()=>v,gu:()=>f,sZ:()=>m,tn:()=>j,xp:()=>h});var s=n(80263),a=n(53239),r=n(2);let l="mx-auto w-full max-w-[1200px]",o="px-4 @lg:px-6 @xl:px-12 @2xl:px-20 @3xl:px-24",i=(0,a.forwardRef)((e,t)=>{let{className:n,bottomPadding:a,size:l="default",...i}=e;return(0,s.jsx)("div",{ref:t,...i,className:(0,r.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[l],o,a&&"pb-16",n)})}),c=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("header",{...a,ref:t,className:(0,r.cn)("w-full","flex-col gap-3 py-6",n)})}),d=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("h1",{ref:t,...a,className:(0,r.cn)("text-2xl",n)})}),u=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("p",{ref:t,...a,className:(0,r.cn)("text-sm text-foreground-light",n)})}),f=(0,a.forwardRef)((e,t)=>{let{className:n,isFullWidth:a,topPadding:l,...o}=e;return(0,s.jsx)("div",{ref:t,...o,className:(0,r.cn)("flex flex-col first:pt-12 py-6",a?"w-full":"gap-3 lg:grid md:grid-cols-12",n)})}),x=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("w-full h-px bg-border",n)})}),m=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("h3",{ref:t,...a,className:(0,r.cn)("text-foreground text-xl",n)})}),p=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("p",{ref:t,...a,className:(0,r.cn)("text-sm text-foreground-light",n)})}),h=(0,a.forwardRef)((e,t)=>{let{className:n,children:a,title:l,...o}=e;return(0,s.jsxs)("div",{ref:t,...o,className:(0,r.cn)("col-span-4 xl:col-span-5 prose text-sm",n),children:[l&&(0,s.jsx)("h2",{children:l}),a]})}),y=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",n)})}),j=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("flex flex-col gap-3 items-center",n)})}),g=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("flex w-full items-center",n)})}),v=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("flex flex-row gap-3",n)})}),b=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("flex flex-col gap-3","min-w-[420px]",n)})}),N=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)(l,o,"my-8 flex flex-col gap-8",n)})});c.displayName="ScaffoldHeader",d.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",i.displayName="ScaffoldContainer",x.displayName="ScaffoldDivider",f.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",y.displayName="ScaffoldSectionContent",j.displayName="ScaffoldFilterAndContent",g.displayName="ScaffoldActionsContainer",v.displayName="ScaffoldActionsGroup",N.displayName="ScaffoldContainerLegacy",m.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription"},99673:(e,t,n)=>{n.d(t,{O:()=>o,h:()=>l});var s=n(80263),a=n(53239),r=n(2);let l=(0,a.forwardRef)((e,t)=>(0,s.jsx)("nav",{ref:t,dir:"ltr",...e,className:(0,r.cn)("border-b",e.className),children:(0,s.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),o=(0,a.forwardRef)((e,t)=>{let{children:n,className:a,active:l,...o}=e;return(0,s.jsx)("li",{ref:t,"aria-selected":l?"true":"false","data-state":l?"active":"inactive",className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",a),...o,children:n})})}}]);